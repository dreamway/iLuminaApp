<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>美睛美科 - 眼部检测系统</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- 引入 ECharts -->
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.2.2/echarts.min.js"></script>
    <style>
        :root {
            --primary-color: #2196F3;
            --secondary-color: #FF5722;
            --background-color: #F5F5F5;
            --card-color: #FFFFFF;
            --text-primary: #212121;
            --text-secondary: #757575;
            --border-radius: 8px;
            --spacing: 16px;
            --nav-height: 56px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-primary);
            max-width: 1920px;
            margin: 0 auto;
            position: relative;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 var(--spacing);
            height: 64px;
            background-color: var(--card-color);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        .top-bar-title {
            font-size: 20px;
            font-weight: 500;
        }

        .top-bar-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .icon-button {
            width: 48px;
            height: 48px;
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: transparent;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
            position: relative;
        }

        .icon-button:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .notification-dot {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 10px;
            height: 10px;
            border-radius: 5px;
            background-color: var(--secondary-color);
        }

        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: var(--spacing);
            padding-bottom: calc(var(--nav-height) + var(--spacing));
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: var(--nav-height);
            background-color: var(--card-color);
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
            z-index: 10;
            max-width: 1920px;
            margin: 0 auto;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex: 1;
            height: 100%;
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s;
            cursor: pointer;
        }

        .nav-item.active {
            color: var(--primary-color);
        }

        .nav-item-icon {
            font-size: 24px;
        }

        .nav-item-label {
            font-size: 12px;
            margin-top: 4px;
        }

        .card {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: var(--spacing);
            margin-bottom: var(--spacing);
        }

        .section-title {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 12px;
        }

        .carousel {
            width: 100%;
            height: 200px;
            border-radius: var(--border-radius);
            overflow: hidden;
            position: relative;
            margin-bottom: var(--spacing);
        }

        .carousel-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .service-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--spacing);
            margin-bottom: var(--spacing);
        }

        .service-item {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: var(--spacing);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .service-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .service-icon {
            width: 48px;
            height: 48px;
            border-radius: 24px;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
        }

        .service-name {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .service-price {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .case-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing);
        }

        .case-item {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .case-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .case-content {
            padding: var(--spacing);
        }

        .case-title {
            font-weight: 500;
            margin-bottom: 8px;
        }

        .case-description {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 24px;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .button:hover {
            background-color: #1976D2;
        }

        .button.secondary {
            background-color: transparent;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
        }

        .button.secondary:hover {
            background-color: rgba(33, 150, 243, 0.05);
        }

        .button.danger {
            background: linear-gradient(to right, #FF5722, #F44336);
        }

        .button.danger:hover {
            background: linear-gradient(to right, #F44336, #E53935);
        }

        /* 服务页面样式 */
        .service-category {
            margin-bottom: 24px;
        }

        /* 检测页面样式 */
        .detection-intro {
            text-align: center;
            margin-bottom: 24px;
        }

        .detection-image {
            width: 100%;
            max-width: 400px;
            margin: 0 auto 24px;
            display: block;
        }

        .detection-steps {
            margin-bottom: 24px;
        }

        .detection-step {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .step-number {
            width: 32px;
            height: 32px;
            border-radius: 16px;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-weight: 500;
        }

        .recent-customers {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            overflow-x: auto;
            padding-bottom: 8px;
        }

        .customer-item {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: 12px;
            min-width: 100px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .detection-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
        }

        /* 客户页面样式 */
        .customer-filter {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            overflow-x: auto;
            padding-bottom: 8px;
        }

        .filter-item {
            background-color: var(--card-color);
            border-radius: 16px;
            padding: 8px 16px;
            font-size: 14px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .filter-item.active {
            background-color: var(--primary-color);
            color: white;
        }

        .customer-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing);
        }

        .customer-card {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: var(--spacing);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .customer-name {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .customer-info {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 4px;
        }

        .customer-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 14px;
        }

        /* 我的页面样式 */
        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
        }

        .profile-avatar {
            width: 64px;
            height: 64px;
            border-radius: 32px;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-right: 16px;
        }

        .profile-info {
            flex: 1;
        }

        .profile-name {
            font-weight: 500;
            font-size: 18px;
            margin-bottom: 4px;
        }

        .profile-role {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing);
            margin-bottom: 24px;
        }

        .stat-card {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: var(--spacing);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .stat-title {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 500;
        }

        .function-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing);
        }

        .function-item {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: var(--spacing);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .function-icon {
            width: 48px;
            height: 48px;
            border-radius: 24px;
            background-color: rgba(33, 150, 243, 0.1);
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
        }

        .function-name {
            font-weight: 500;
        }

        /* 检测流程页面样式 */
        .detection-flow {
            display: none;
        }

        .detection-flow.active {
            display: block;
        }

        .flow-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .flow-title {
            font-size: 20px;
            font-weight: 500;
        }

        .flow-progress {
            color: var(--text-secondary);
        }

        .question-card {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .question-title {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 16px;
        }

        .question-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-item {
            display: flex;
            align-items: center;
            padding: 12px;
            border-radius: var(--border-radius);
            border: 1px solid #E0E0E0;
            cursor: pointer;
            transition: border-color 0.2s, background-color 0.2s;
        }

        .option-item:hover {
            border-color: var(--primary-color);
            background-color: rgba(33, 150, 243, 0.05);
        }

        .option-item.selected {
            border-color: var(--primary-color);
            background-color: rgba(33, 150, 243, 0.1);
        }

        .option-radio {
            width: 20px;
            height: 20px;
            border-radius: 10px;
            border: 2px solid #E0E0E0;
            margin-right: 12px;
            position: relative;
        }

        .option-item.selected .option-radio {
            border-color: var(--primary-color);
        }

        .option-item.selected .option-radio::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 5px;
            background-color: var(--primary-color);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .option-label {
            flex: 1;
        }

        .question-hint {
            margin-top: 16px;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .flow-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 24px;
        }

        .camera-container {
            position: relative;
            width: 100%;
            height: 500px;
            background-color: #000;
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-bottom: 24px;
        }

        .camera-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .camera-guide {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 100px;
            border: 2px dashed white;
            border-radius: 8px;
        }

        .camera-controls {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-top: 16px;
        }

        .camera-button {
            width: 64px;
            height: 64px;
            border-radius: 32px;
            background-color: white;
            border: 3px solid var(--primary-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .camera-button-inner {
            width: 48px;
            height: 48px;
            border-radius: 24px;
            background-color: var(--primary-color);
        }

        .camera-instruction {
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 12px;
            border-radius: var(--border-radius);
            position: absolute;
            bottom: 16px;
            left: 16px;
            right: 16px;
            text-align: center;
        }

        /* 结果展示页面样式 */
        .result-header {
            text-align: center;
            margin-bottom: 24px;
        }

        .result-score {
            font-size: 48px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 8px;
        }

        .result-level {
            font-size: 18px;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }

        .radar-chart {
            width: 100%;
            height: 300px;
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: var(--spacing);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 24px;
            position: relative;
        }

        .radar-chart-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
        }

        .dimension-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 24px;
        }

        .dimension-item {
            display: flex;
            align-items: center;
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .dimension-color {
            width: 16px;
            height: 16px;
            border-radius: 8px;
            margin-right: 12px;
        }

        .dimension-name {
            flex: 1;
            font-weight: 500;
        }

        .dimension-score {
            font-weight: 500;
            color: var(--primary-color);
        }

        .dimension-arrow {
            margin-left: 8px;
            color: var(--text-secondary);
        }

        .result-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin-top: 32px;
        }

        /* 维度详情页面样式 */
        .dimension-detail-header {
            text-align: center;
            margin-bottom: 24px;
        }

        .dimension-detail-score {
            font-size: 36px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 8px;
        }

        .dimension-detail-level {
            font-size: 16px;
            color: var(--text-secondary);
        }

        .detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing);
            margin-bottom: 24px;
        }

        .eye-image-container {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: var(--spacing);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .eye-image {
            width: 100%;
            max-width: 200px;
            height: auto;
        }

        .analysis-container {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: var(--spacing);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .analysis-title {
            font-weight: 500;
            margin-bottom: 12px;
        }

        .analysis-item {
            display: flex;
            margin-bottom: 8px;
        }

        .analysis-label {
            width: 120px;
            color: var(--text-secondary);
        }

        .analysis-value {
            flex: 1;
        }

        .suggestions-container {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: var(--spacing);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 24px;
        }

        .suggestions-title {
            font-weight: 500;
            margin-bottom: 12px;
        }

        .suggestion-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .suggestion-number {
            width: 24px;
            height: 24px;
            border-radius: 12px;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .suggestion-text {
            flex: 1;
        }

        /* 页面切换动画 */
        .page {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* 响应式调整 */
        @media (max-width: 1200px) {
            .service-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .function-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 900px) {
            .service-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .case-grid {
                grid-template-columns: 1fr;
            }

            .customer-grid {
                grid-template-columns: 1fr;
            }

            .detail-grid {
                grid-template-columns: 1fr;
            }
        }

        /* 角色切换对话框 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            display: none;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: 24px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .modal-title {
            font-size: 20px;
            font-weight: 500;
            margin-bottom: 16px;
            text-align: center;
        }

        .role-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 24px;
        }

        .role-option {
            display: flex;
            align-items: center;
            padding: 16px;
            border-radius: var(--border-radius);
            border: 1px solid #E0E0E0;
            cursor: pointer;
            transition: border-color 0.2s, background-color 0.2s;
        }

        .role-option:hover {
            border-color: var(--primary-color);
            background-color: rgba(33, 150, 243, 0.05);
        }

        .role-option.selected {
            border-color: var(--primary-color);
            background-color: rgba(33, 150, 243, 0.1);
        }

        .role-icon {
            width: 48px;
            height: 48px;
            border-radius: 24px;
            background-color: rgba(33, 150, 243, 0.1);
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
        }

        .role-info {
            flex: 1;
        }

        .role-name {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .role-description {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* 检测报告页面样式 */
        .report-header {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: var(--spacing);
            margin-bottom: var(--spacing);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .report-customer-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .report-customer-item {
            margin-bottom: 8px;
        }

        .report-customer-label {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 4px;
        }

        .report-customer-value {
            font-weight: 500;
        }

        .report-section {
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            padding: var(--spacing);
            margin-bottom: var(--spacing);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .report-section-title {
            font-weight: 500;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #E0E0E0;
        }

        .problem-item {
            margin-bottom: 12px;
        }

        .problem-title {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .problem-description {
            color: var(--text-secondary);
            font-size: 14px;
        }



        .form-group {
            margin-bottom: 8px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-primary);
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #E0E0E0;
            border-radius: var(--border-radius);
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .form-input:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .radio-group {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .radio-item {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .radio-button {
            width: 20px;
            height: 20px;
            border: 2px solid #E0E0E0;
            border-radius: 50%;
            margin-right: 8px;
            position: relative;
            transition: border-color 0.2s;
        }

        .radio-item.selected .radio-button {
            border-color: var(--primary-color);
        }

        .radio-item.selected .radio-button::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--primary-color);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .radio-label {
            font-size: 14px;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 12px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #E0E0E0;
            border-radius: 4px;
            margin-right: 8px;
            position: relative;
            transition: all 0.2s;
        }

        .checkbox-item.selected .checkbox {
            border-color: var(--primary-color);
            background-color: var(--primary-color);
        }

        .checkbox-item.selected .checkbox::after {
            content: '';
            position: absolute;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
        }

        .checkbox-label {
            font-size: 14px;
        }

        /* 报告页面样式 */
        .report-date {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .questionnaire-results {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .question-result {
            padding: 12px;
            background-color: #F5F5F5;
            border-radius: var(--border-radius);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 8px;
        }

        .answer-text {
            color: var(--primary-color);
            margin-bottom: 4px;
        }

        .analysis-text {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .image-analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .analysis-item {
            background-color: #F5F5F5;
            border-radius: var(--border-radius);
            padding: 16px;
        }

        .analysis-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            margin-bottom: 12px;
        }

        .analysis-images {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
        }

        .image-compare {
            flex: 1;
            text-align: center;
        }

        .image-compare img {
            width: 100%;
            border-radius: var(--border-radius);
            margin-bottom: 4px;
        }

        .image-label {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .analysis-result {
            background-color: white;
            padding: 12px;
            border-radius: var(--border-radius);
        }

        .result-label {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .dimension-scores {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-top: 24px;
        }

        .dimension-score-item {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .dimension-name {
            width: 80px;
        }

        .score-bar {
            flex: 1;
            height: 8px;
            background-color: #E0E0E0;
            border-radius: 4px;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 4px;
        }

        .score-value {
            width: 40px;
            text-align: right;
            font-weight: 500;
        }

        /* 推荐方案页面样式 */
        .problem-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .recommendation-item {
            background-color: #F5F5F5;
            border-radius: var(--border-radius);
            padding: 16px;
            margin-bottom: 16px;
        }

        .recommendation-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        .recommendation-icon {
            width: 48px;
            height: 48px;
            border-radius: 24px;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .recommendation-info {
            flex: 1;
        }

        .recommendation-name {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .recommendation-price {
            color: var(--primary-color);
            font-weight: 500;
        }

        .recommendation-details {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
        }

        .detail-item .material-icons {
            color: var(--primary-color);
            font-size: 18px;
        }

        .advice-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .advice-item {
            display: flex;
            gap: 16px;
            padding: 16px;
            background-color: #F5F5F5;
            border-radius: var(--border-radius);
        }

        .advice-item .material-icons {
            color: var(--primary-color);
        }

        .advice-title {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .advice-description {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* 禁用状态和tooltip样式 */
        .function-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            position: relative;
        }

        .function-item.disabled::before {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 4px 8px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            font-size: 12px;
            border-radius: 4px;
            white-space: nowrap;
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .function-item.disabled:hover::before {
            visibility: visible;
            opacity: 1;
        }

        .function-item.disabled .function-icon {
            background-color: rgba(33, 150, 243, 0.05);
        }

        .function-item.disabled .function-icon span {
            color: var(--text-secondary);
        }


 


        /* 返回按钮样式 */
        .back-button {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 8px;
            border-radius: 50%;
            background: transparent;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .back-button:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        /* 页面标题栏样式 */
        .page-header {
            display: flex;
            align-items: center;
            padding: 16px;
            background-color: var(--card-background);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .page-title {
            font-size: 18px;
            font-weight: 500;
            flex: 1;
        }

        /* 滑动返回区域 */
        .swipe-area {
            position: fixed;
            left: 0;
            top: 0;
            width: 20px;
            height: 100%;
            z-index: 1000;
        }

        /* 面包屑导航 */
        .breadcrumb {
            display: flex;
            align-items: center;
            padding: 8px 16px;
            background-color: var(--background-color);
            font-size: 14px;
            color: var(--text-secondary);
            overflow-x: auto;
            white-space: nowrap;
        }

        .breadcrumb-item {
            display: inline-flex;
            align-items: center;
        }

        .breadcrumb-item:not(:last-child)::after {
            content: ">";
            margin: 0 8px;
            color: var(--text-tertiary);
        }

        .breadcrumb-item a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .breadcrumb-item:last-child {
            color: var(--text-primary);
            font-weight: 500;
        }

        /* 轮播图样式 */
        .campaign-carousel {
            position: relative;
            margin: 16px 0;
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .carousel-container {
            position: relative;
            overflow: hidden;
            border-radius: var(--border-radius);
        }

        .carousel-wrapper {
            display: flex;
            transition: transform 0.5s ease;
        }

        .carousel-slide {
            flex: 0 0 100%;
            position: relative;
            cursor: pointer;
        }

        .carousel-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            display: block;
        }

        .carousel-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
            color: white;
            padding: 16px;
        }

        .carousel-caption h3 {
            margin: 0 0 4px 0;
            font-size: 18px;
        }

        .carousel-caption p {
            margin: 0;
            font-size: 14px;
            opacity: 0.9;
        }

        .carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 12px;
        }

        .indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--border-color);
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .indicator.active {
            background-color: var(--primary-color);
        }

        .carousel-controls {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
            pointer-events: none;
        }

        .carousel-control {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.8);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            pointer-events: auto;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* 活动详情页样式 */
        .campaign-detail {
            padding: 0 0 24px 0;
        }

        .campaign-banner img {
            width: 100%;
            height: 400px;
            object-fit: cover;
        }

        .campaign-content {
            padding: 16px;
        }

        .campaign-title {
            font-size: 20px;
            font-weight: 600;
            margin: 0 0 8px 0;
            color: var(--primary-color);
        }

        .campaign-time {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .campaign-time::before {
            content: "\e8df";
            font-family: 'Material Icons';
            font-size: 16px;
        }

        .campaign-description {
            background-color: #F5F5F5;
            border-radius: var(--border-radius);
            padding: 16px;
            margin-bottom: 16px;
        }

        .campaign-benefits {
            margin: 16px 0;
        }

        .benefit-item {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
            align-items: flex-start;
        }

        .benefit-icon {
            flex-shrink: 0;
            font-size: 18px;
        }

        .benefit-text {
            flex: 1;
            font-size: 15px;
        }

        .campaign-highlight {
            font-weight: 500;
            margin: 16px 0 8px 0;
            color: var(--primary-color);
        }

        .campaign-highlight-content {
            background-color: rgba(74, 144, 226, 0.1);
            padding: 8px 12px;
            border-radius: 4px;
            margin-bottom: 16px;
        }

        .campaign-info {
            margin: 16px 0;
            padding-top: 16px;
            border-top: 1px dashed var(--border-color);
        }

        .campaign-info p {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            color: var(--text-secondary);
        }

        .campaign-slogan {
            font-weight: 500;
            text-align: center;
            margin-top: 16px;
            color: var(--primary-color);
        }

        .action-buttons {
            display: flex;
            gap: 16px;
            padding: 0 16px;
        }

        .action-buttons .button {
            flex: 1;
        }

        /* 服务案例样式 */
        .case-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin: 16px 0;
        }

        .case-item {
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .case-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .case-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .case-content {
            padding: 12px;
        }

        .case-title {
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .case-description {
            font-size: 14px;
            color: var(--text-secondary);
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .more-cases {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #F5F5F5;
            border: 1px dashed var(--border-color);
        }

        .more-icon {
            margin-bottom: 8px;
        }

        .more-icon .material-icons {
            font-size: 32px;
            color: var(--primary-color);
        }

        .more-text {
            color: var(--primary-color);
            font-weight: 500;
        }

        /* 案例详情页样式 */
        .case-detail {
            padding-bottom: 24px;
        }

        .case-banner img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .case-content-detail {
            padding: 16px;
        }

        .case-title-large {
            font-size: 20px;
            font-weight: 600;
            margin: 0 0 16px 0;
            color: var(--primary-color);
        }

        .case-section {
            margin-bottom: 24px;
        }

        .section-subtitle {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-primary);
        }

        .diagnosis-part,
        .treatment-phase {
            margin-bottom: 16px;
        }

        .part-title,
        .phase-title {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .treatment-category h5 {
            font-size: 15px;
            font-weight: 500;
            margin: 12px 0 8px 0;
            color: var(--text-primary);
        }

        .diagnosis-list,
        .treatment-list,
        .management-list,
        .result-list,
        .service-list {
            padding-left: 20px;
            margin-bottom: 12px;
        }

        .diagnosis-list li,
        .treatment-list li,
        .management-list li,
        .result-list li,
        .service-list li {
            margin-bottom: 8px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .case-images {
            margin-top: 24px;
        }

        .before-after {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            justify-content: center;
        }

        .image-container {
            position: relative;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .image-container img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            display: block;
            border-radius: var(--border-radius);
        }

        .image-label {
            position: absolute;
            bottom: 8px;
            left: 8px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        .case-navigation {
            display: flex;
            justify-content: space-between;
            padding: 16px;
            border-top: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 16px;
        }

        .nav-button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            color: var(--primary-color);
            transition: background-color 0.2s;
        }

        .nav-button:hover {
            background-color: rgba(74, 144, 226, 0.1);
        }

        .nav-button.prev {
            margin-right: auto;
        }

        .nav-button.next {
            margin-left: auto;
        }


        /* 雷达图样式 */
        .radar-chart-container {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 24px;
            box-shadow: var(--shadow);
        }

        /* 维度得分项样式 */
        .dimension-scores, #dimension-list-container {
            margin-top: 20px;
        }

        .dimension-score-item {
            margin-bottom: 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            background: white;
        }

        .dimension-header {
            padding: 16px;
            background: #F5F5F5;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background-color 0.3s;
        }

        .dimension-header:hover {
            background: #EEEEEE;
        }

        .dimension-title {
            display: flex;
            align-items: center;
            gap: 16px;
            flex: 1;
        }

        .dimension-name {
            min-width: 80px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .score-bar-container {
            flex: 1;
            height: 20px;
            background-color: #E0E0E0;
            border-radius: 10px;
            overflow: hidden;
        }

        .score-bar {
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 10px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            transition: width 0.3s ease-in-out;
        }

        .score-value {
            color: white;
            font-size: 12px;
            font-weight: 500;
        }

        .toggle-icon {
            transition: transform 0.3s;
        }

        .dimension-score-item.active .toggle-icon {
            transform: rotate(180deg);
        }

        .dimension-detail {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .dimension-score-item.active .dimension-detail {
            max-height: 500px;
        }

        .detail-content {
            padding: 20px;
        }

        .detail-content h4 {
            margin-top: 0;
            color: var(--primary-color);
            font-size: 16px;
            margin-bottom: 16px;
        }

        .detail-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin: 16px 0;
        }

        @media (max-width: 600px) {
            .detail-metrics {
                grid-template-columns: 1fr;
            }
        }

        .metric-item {
            background: #F5F5F5;
            padding: 12px;
            border-radius: 8px;
        }

        .metric-label {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 4px;
        }

        .metric-value {
            font-weight: 500;
            color: var(--text-primary);
        }

        .detail-suggestion {
            margin-top: 16px;
        }

        .detail-suggestion h5 {
            color: var(--primary-color);
            margin-bottom: 8px;
            font-size: 15px;
        }

        .detail-suggestion ul {
            padding-left: 20px;
            color: var(--text-secondary);
        }

        .detail-suggestion li {
            margin-bottom: 4px;
        }

        /* 在较窄的屏幕上调整样式 */
        @media (max-width: 600px) {
            .detail-metrics {
                grid-template-columns: 1fr; /* 在非常窄的屏幕上改为单列 */
            }
        }

        /* AI图像分析结果样式 */
        .image-analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 16px;
        }

        .analysis-item {
            background: white;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .analysis-title {
            display: flex;
            align-items: center;
            padding: 16px;
            background: #F5F5F5;
            border-bottom: 1px solid var(--border-color);
        }

        .analysis-title .material-icons {
            margin-right: 8px;
            color: var(--primary-color);
        }

        .analysis-title-text {
            font-weight: 500;
            color: var(--text-primary);
        }

        .analysis-content {
            padding: 16px;
        }

        .analysis-images {
            margin-bottom: 16px;
        }

        .image-compare {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
        }

        .image-compare img {
            width: 100%;
            height: auto;
            display: block;
        }

        .image-label {
            position: absolute;
            bottom: 8px;
            left: 8px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        .analysis-result {
            background: #F5F5F5;
            border-radius: 8px;
            padding: 12px;
        }

        .result-title {
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--primary-color);
        }

        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 8px;
        }

        .result-item {
            background: white;
            padding: 8px;
            border-radius: 4px;
        }

        .result-label {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }

        .result-value {
            font-weight: 500;
            color: var(--text-primary);
        }

        /* 服务详情页面样式 */
        .service-detail-header {
            position: relative;
            margin-bottom: 16px;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .service-detail-title {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 16px;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
            color: white;
            font-size: 18px;
            font-weight: 500;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <div class="top-bar">
            <div class="top-bar-title">美睛美科</div>
            <div class="top-bar-actions">
                <button class="icon-button">
                    <span class="material-icons">notifications</span>
                </button>
                <button class="icon-button">
                    <span class="material-icons">settings</span>
                </button>

            </div>
        </div>

        <div class="content-area">
            <!-- 首页 -->
            <div class="page active" id="home-page">
                <!-- 门店活动轮播图 -->
                <div class="card">
                    <div class="section-title">门店活动</div>
                    <div class="campaign-carousel">
                        <div class="carousel-container">
                            <div class="carousel-wrapper">
                                <div class="carousel-slide" onclick="navigateTo('campaign-detail-1')">
                                    <img src="images/campaign/campaign1.jpg" alt="明眸焕新计划" class="carousel-image">
                                    <div class="carousel-caption">
                                        <h3>明眸焕新计划</h3>
                                        <p>即日起至6月30日，进店享三重礼遇</p>
                                    </div>
                                </div>
                                <div class="carousel-slide" onclick="navigateTo('campaign-detail-2')">
                                    <img src="images/campaign/campaign2.jpg" alt="端午护眼粽动员" class="carousel-image">
                                    <div class="carousel-caption">
                                        <h3>端午护眼"粽"动员</h3>
                                        <p>6月6日-6月10日，五重惊喜限时开启</p>
                                    </div>
                                </div>
                                <div class="carousel-slide" onclick="navigateTo('campaign-detail-3')">
                                    <img src="images/campaign/campaign3.jpg" alt="以老带新，明眸双倍礼" class="carousel-image">
                                    <div class="carousel-caption">
                                        <h3>以老带新，明眸双倍礼</h3>
                                        <p>老客户推荐新朋友到店，双重好礼等你拿</p>
                                    </div>
                                </div>
                                <div class="carousel-slide" onclick="navigateTo('campaign-detail-4')">
                                    <img src="images/campaign/campaign1.jpg" alt="全民护眼课堂" class="carousel-image">
                                    <div class="carousel-caption">
                                        <h3>全民护眼课堂</h3>
                                        <p>特邀眼科专家，揭秘电子屏时代的护眼秘籍</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-indicators">
                            <span class="indicator active"></span>
                            <span class="indicator"></span>
                            <span class="indicator"></span>
                            <span class="indicator"></span>
                        </div>
                        <div class="carousel-controls">
                            <button class="carousel-control prev" onclick="moveCarousel(-1)">
                                <span class="material-icons">chevron_left</span>
                            </button>
                            <button class="carousel-control next" onclick="moveCarousel(1)">
                                <span class="material-icons">chevron_right</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="section-title">热门服务</div>
                <div class="service-grid">
                    <div class="service-item" onclick="navigateTo('detection-page')">
                        <div class="service-icon">
                            <span class="material-icons">visibility</span>
                        </div>
                        <div class="service-name">眼部AI检测</div>
                        <div class="service-price">¥98</div>
                    </div>
                    <div class="service-item" onclick="navigateToService('service-detail', 'dry-eye')">
                        <div class="service-icon">
                            <span class="material-icons">spa</span>
                        </div>
                        <div class="service-name">舒缓干眼服务</div>
                        <div class="service-price">¥298起</div>
                    </div>
                    <div class="service-item" onclick="navigateToService('service-detail', 'eye-bag')">
                        <div class="service-icon">
                            <span class="material-icons">face</span>
                        </div>
                        <div class="service-name">消除眼袋服务</div>
                        <div class="service-price">¥398起</div>
                    </div>
                    <div class="service-item" onclick="navigateToService('service-detail', 'eye-bright')">
                        <div class="service-icon">
                            <span class="material-icons">wb_sunny</span>
                        </div>
                        <div class="service-name">眼周提亮服务</div>
                        <div class="service-price">¥198起</div>
                    </div>
                </div>

                <div class="section-title">服务案例</div>
                <div class="case-grid">
                    <div class="case-item" onclick="navigateTo('case-detail-1')">
                        <img src="images/service_case/case1.jpg" alt="干眼症改善案例" class="case-image">
                        <div class="case-content">
                            <div class="case-title">干眼症综合改善方案</div>
                            <div class="case-description">
                                35岁互联网从业者，日均电子设备使用超12小时，双眼干涩、灼痛。通过IPL强脉冲光治疗、中药熏蒸和行为干预，泪膜破裂时间延长至9秒，视疲劳显著改善。</div>
                        </div>
                    </div>
                    <div class="case-item" onclick="navigateTo('case-detail-2')">
                        <img src="images/service_case/case2.jpg" alt="眼袋消除案例" class="case-image">
                        <div class="case-content">
                            <div class="case-title">眼袋消除年轻化方案</div>
                            <div class="case-description">
                                42岁企业高管，遗传性眼袋伴泪沟凹陷，通过外切眼袋+眶隔脂肪释放术，结合CO2点阵激光和PRP回输，泪沟凹陷深度显著降低，面部年轻化指数提升。</div>
                        </div>
                    </div>
                    <div class="case-item" onclick="navigateTo('case-detail-3')">
                        <img src="images/service_case/case3.jpg" alt="黑眼圈综合干预案例" class="case-image">
                        <div class="case-content">
                            <div class="case-title">混合型黑眼圈综合干预</div>
                            <div class="case-description">
                                29岁新媒体编辑，混合型黑眼圈持续3年。通过中医调理、胶原蛋白填充和射频紧致，黑眼圈综合评分从7.2分降至2.5分，化妆遮瑕用量减少80%。</div>
                        </div>
                    </div>
                    <div class="case-item more-cases" onclick="navigateTo('services-page')">
                        <div class="more-icon">
                            <span class="material-icons">add_circle_outline</span>
                        </div>
                        <div class="more-text">查看更多案例</div>
                    </div>
                </div>
            </div>

            <!-- 服务案例详情页面1 -->
            <div class="page" id="case-detail-1">
                <div class="page-header">
                    <div class="back-button" onclick="goBack()">
                        <span class="material-icons">arrow_back</span>
                    </div>
                    <div class="page-title">案例详情</div>
                </div>

                <div class="breadcrumb">
                    <!-- 面包屑导航将由JavaScript动态生成 -->
                </div>

                <div class="case-detail">
                    <div class="case-banner">
                        <img src="images/service_case/case1.jpg" alt="干眼症综合改善方案">
                    </div>
                    <div class="case-content-detail">
                        <h2 class="case-title-large">干眼症综合改善方案</h2>

                        <div class="case-section">
                            <h3 class="section-subtitle">患者背景</h3>
                            <p>陈先生，35岁，互联网从业者，日均电子设备使用时长超12小时，主诉双眼干涩、灼痛、视物模糊伴晨起分泌物增多，持续8个月，外院诊断为中度干眼症（泪膜破裂时间4秒，泪液分泌量5mm/5min）。
                            </p>
                        </div>

                        <div class="case-section">
                            <h3 class="section-subtitle">诊疗方案</h3>

                            <div class="diagnosis-part">
                                <h4 class="part-title">1. 精准评估</h4>
                                <ul class="diagnosis-list">
                                    <li>采用睑板腺成像系统检测，发现腺体开口堵塞率45%（中度功能障碍）</li>
                                    <li>眼表综合分析仪显示角膜荧光素染色阳性（+），结膜充血评分2级</li>
                                </ul>
                            </div>

                            <div class="diagnosis-part">
                                <h4 class="part-title">2. 分阶段干预</h4>

                                <div class="treatment-phase">
                                    <h5 class="phase-title">第一阶段（第1-2周）：症状缓解期</h5>
                                    <ul class="treatment-list">
                                        <li><strong>IPL强脉冲光治疗</strong>：每周1次，共2次，参数设置为波长560nm，能量密度12J/cm²，针对性融化堵塞睑脂并抑制炎症反应
                                        </li>
                                        <li><strong>中药熏蒸+冷敷贴</strong>：每日1次，选用密蒙花、夏枯草等组方，调节泪液渗透压</li>
                                        <li><strong>人工泪液补充</strong>：玻璃酸钠滴眼液（0.3%浓度），配合脂质修复型凝胶（夜间使用）</li>
                                    </ul>
                                </div>

                                <div class="treatment-phase">
                                    <h5 class="phase-title">第二阶段（第3-6周）：功能修复期</h5>
                                    <ul class="treatment-list">
                                        <li><strong>热脉动系统治疗</strong>：42.5℃恒温脉冲按摩，促进睑板腺排出率提升至78%</li>
                                        <li><strong>中医点穴调理</strong>：每周2次，取睛明、攒竹、太阳穴，配合耳穴压豆（肝、目1、目2区）调节气血</li>
                                        <li><strong>行为干预</strong>：定制护眼计划（20-20-20用眼法则）、蓝光滤过眼镜适配、口服Omega-3脂肪酸（每日1200mg）
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="case-section">
                            <h3 class="section-subtitle">效果追踪</h3>
                            <ul class="result-list">
                                <li><strong>治疗后1个月</strong>：泪膜破裂时间延长至9秒，泪液分泌量增至9mm/5min，异物感消失，视疲劳评分从7分降至2分（VAS量表）</li>
                                <li><strong>治疗后3个月</strong>：复查睑板腺开口通畅率92%，患者自述日均屏幕使用耐受时长从2小时恢复至6小时，晨起分泌物减少80%</li>
                            </ul>
                        </div>

                        <div class="case-section">
                            <h3 class="section-subtitle">个性化服务亮点</h3>
                            <ul class="service-list">
                                <li>建立电子健康档案，通过APP推送眨眼训练提醒及湿度监测提示</li>
                                <li>赠送"护眼能量包"（含蒸汽眼罩、叶黄素咀嚼片、护眼食谱）</li>
                            </ul>
                        </div>

                        <div class="case-images">
                            <div class="before-after">
                                <div class="image-container">
                                    <img src="images/service_case/case1_before.jpg" alt="治疗前">
                                    <div class="image-label">治疗前</div>
                                </div>
                                <div class="image-container">
                                    <img src="images/service_case/case1_after.jpg" alt="治疗后">
                                    <div class="image-label">治疗后</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="case-navigation">
                        <div class="nav-button prev" onclick="navigateTo('case-detail-3')">
                            <span class="material-icons">arrow_back</span>
                            <span>上一个案例</span>
                        </div>
                        <div class="nav-button next" onclick="navigateTo('case-detail-2')">
                            <span>下一个案例</span>
                            <span class="material-icons">arrow_forward</span>
                        </div>
                    </div>

                </div>
            </div>

            <!-- 服务案例详情页面2 -->
            <div class="page" id="case-detail-2">
                <div class="page-header">
                    <div class="back-button" onclick="goBack()">
                        <span class="material-icons">arrow_back</span>
                    </div>
                    <div class="page-title">案例详情</div>
                </div>

                <div class="breadcrumb">
                    <!-- 面包屑导航将由JavaScript动态生成 -->
                </div>

                <div class="case-detail">
                    <div class="case-banner">
                        <img src="images/service_case/case2.jpg" alt="眼袋消除年轻化方案">
                    </div>
                    <div class="case-content-detail">
                        <h2 class="case-title-large">眼袋消除年轻化方案</h2>

                        <div class="case-section">
                            <h3 class="section-subtitle">患者背景</h3>
                            <p>张先生，42岁，企业高管，遗传性眼袋伴泪沟凹陷，下睑皮肤松弛度评级III级（Pinch测试回缩时间>3秒），长期依赖遮瑕化妆，社交自信心受挫。</p>
                        </div>

                        <div class="case-section">
                            <h3 class="section-subtitle">诊疗方案</h3>

                            <div class="diagnosis-part">
                                <h4 class="part-title">1. 三维美学设计</h4>
                                <ul class="diagnosis-list">
                                    <li>3D面部扫描分析：眼袋脂肪容积3.2ml，泪沟凹陷深度1.8mm，中面部容积缺失率25%</li>
                                    <li>动态表情评估：微笑时下睑膨出加重，鼻唇沟联动性明显</li>
                                </ul>
                            </div>

                            <div class="diagnosis-part">
                                <h4 class="part-title">2. 联合术式定制</h4>
                                <ul class="treatment-list">
                                    <li><strong>外切眼袋+眶隔脂肪释放术</strong>：经睑缘切口去除冗余脂肪1.8ml，将眶隔脂肪梯度填充至泪沟及苹果肌过渡区</li>
                                    <li><strong>CO2点阵激光辅助</strong>：术中同步处理下睑细纹（能量设置15mJ，密度5%）</li>
                                    <li><strong>PRP回输</strong>：抽取自体血小板浓缩液注射至真皮层，加速创面愈合</li>
                                </ul>
                            </div>
                        </div>

                        <div class="case-section">
                            <h3 class="section-subtitle">术后管理</h3>
                            <ul class="management-list">
                                <li><strong>恢复期（0-7天）</strong>：冰敷压迫（每日4次，每次15分钟），口服七叶皂苷钠消肿</li>
                                <li><strong>功能锻炼（8-30天）</strong>：眼球定向转动训练（每日3组），瘢痕凝胶涂抹（含硅酮及积雪草成分）</li>
                                <li><strong>长期维养</strong>：每月1次射频紧致治疗（单极射频，温度42℃），搭配胜肽眼霜（含Matrixyl 3000）</li>
                            </ul>
                        </div>

                        <div class="case-section">
                            <h3 class="section-subtitle">效果对比</h3>
                            <ul class="result-list">
                                <li><strong>形态改善</strong>：泪沟凹陷深度降至0.3mm，下睑平整度评分从2.1提升至8.7（9分制）</li>
                                <li><strong>年轻化指数</strong>：面部疲劳感年龄从45岁降至37岁（AI算法测算），社交活动参与频次增加60%</li>
                            </ul>
                        </div>

                        <div class="case-section">
                            <h3 class="section-subtitle">服务延伸</h3>
                            <ul class="service-list">
                                <li>提供"术后心理调适指南"（含形象重建课程、商务淡妆教程）</li>
                                <li>签约3年维保计划（免费处理继发性松弛问题）</li>
                            </ul>
                        </div>

                        <div class="case-images">
                            <div class="before-after">
                                <div class="image-container">
                                    <img src="images/service_case/case2_before.jpg" alt="治疗前">
                                    <div class="image-label">治疗前</div>
                                </div>
                                <div class="image-container">
                                    <img src="images/service_case/case2_after.jpg" alt="治疗后">
                                    <div class="image-label">治疗后</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="case-navigation">
                        <div class="nav-button prev" onclick="navigateTo('case-detail-1')">
                            <span class="material-icons">arrow_back</span>
                            <span>上一个案例</span>
                        </div>
                        <div class="nav-button next" onclick="navigateTo('case-detail-3')">
                            <span>下一个案例</span>
                            <span class="material-icons">arrow_forward</span>
                        </div>
                    </div>

                </div>
            </div>

            <!-- 服务案例详情页面3 -->
            <div class="page" id="case-detail-3">
                <div class="page-header">
                    <div class="back-button" onclick="goBack()">
                        <span class="material-icons">arrow_back</span>
                    </div>
                    <div class="page-title">案例详情</div>
                </div>

                <div class="breadcrumb">
                    <!-- 面包屑导航将由JavaScript动态生成 -->
                </div>

                <div class="case-detail">
                    <div class="case-banner">
                        <img src="images/service_case/case3.jpg" alt="混合型黑眼圈综合干预方案">
                    </div>
                    <div class="case-content-detail">
                        <h2 class="case-title-large">混合型黑眼圈综合干预方案</h2>

                        <div class="case-section">
                            <h3 class="section-subtitle">患者背景</h3>
                            <p>林女士，29岁，新媒体编辑，主诉黑眼圈持续3年加重半年，伴眼周细纹及泪沟凹陷。</p>
                        </div>

                        <div class="case-section">
                            <h3 class="section-subtitle">临床评估</h3>
                            <ul class="diagnosis-list">
                                <li><strong>分型诊断</strong>：混合型黑眼圈（血管型60%+结构型30%+色素型10%）</li>
                                <li><strong>仪器检测</strong>：
                                    <ul>
                                        <li>皮肤镜显示下睑毛细血管扩张密度达42条/mm²（正常值<25条 /mm²）</li>
                                        <li>3D面部扫描显示泪沟凹陷深度1.5mm，眶下容积缺失率18%</li>
                                    </ul>
                                </li>
                                <li><strong>生活习惯</strong>：日均屏幕使用14小时，长期熬夜（凌晨2点入睡）</li>
                            </ul>
                        </div>

                        <div class="case-section">
                            <h3 class="section-subtitle">干预方案</h3>

                            <div class="treatment-phase">
                                <h4 class="phase-title">第一阶段（0-4周）：基础修复</h4>
                                <div class="treatment-category">
                                    <h5>中医调理：</h5>
                                    <ul class="treatment-list">
                                        <li><strong>穴位注射</strong>：每周1次，取承泣、四白穴注射丹参酮注射液（0.2ml/穴）促进微循环</li>
                                        <li><strong>膏方内服</strong>：桃红四物汤加减（桃仁10g、红花6g、当归12g、熟地15g），早晚各1次</li>
                                    </ul>
                                </div>
                                <div class="treatment-category">
                                    <h5>外用护理：</h5>
                                    <ul class="treatment-list">
                                        <li>晨间使用含维生素K的修护精华（改善血管渗漏）</li>
                                        <li>夜间厚敷七子白睡眠面膜（含白蔹、白茯苓）提亮眼周</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="treatment-phase">
                                <h4 class="phase-title">第二阶段（5-8周）：微整强化</h4>
                                <div class="treatment-category">
                                    <h5>胶原蛋白填充：</h5>
                                    <ul class="treatment-list">
                                        <li>泪沟凹陷处注射双美胶原蛋白0.8ml（钝针扇形注射至真皮深层）</li>
                                        <li>下睑血管密集区注射乳白色胶原（遮盖青紫色血管）</li>
                                    </ul>
                                </div>
                                <div class="treatment-category">
                                    <h5>射频紧致：</h5>
                                    <ul class="treatment-list">
                                        <li>每月1次眼周单极射频治疗（温度40℃，刺激胶原重塑）</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="case-section">
                            <h3 class="section-subtitle">效果追踪</h3>
                            <ul class="result-list">
                                <li><strong>4周</strong>：血管型黑眼圈面积减少40%，细纹深度降低25%（PRIMOS检测）</li>
                                <li><strong>8周</strong>：泪沟凹陷深度降至0.3mm，黑眼圈综合评分从7.2分降至2.5分（9分制）</li>
                                <li><strong>患者自述</strong>：化妆遮瑕用量减少80%，眼周皮肤耐受蓝光时长从1小时增至4小时</li>
                            </ul>
                        </div>

                        <div class="case-section">
                            <h3 class="section-subtitle">服务亮点</h3>
                            <ul class="service-list">
                                <li>提供"数字用眼监测"小程序（记录屏幕时长并推送护眼提醒）</li>
                                <li>赠送定制冰导棒（含玉石成分，配合精华冷敷促进吸收）</li>
                            </ul>
                        </div>

                        <div class="case-images">
                            <div class="before-after">
                                <div class="image-container">
                                    <img src="images/service_case/case3_before.jpg" alt="治疗前">
                                    <div class="image-label">治疗前</div>
                                </div>
                                <div class="image-container">
                                    <img src="images/service_case/case3_after.jpg" alt="治疗后">
                                    <div class="image-label">治疗后</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="case-navigation">
                        <div class="nav-button prev" onclick="navigateTo('case-detail-2')">
                            <span class="material-icons">arrow_back</span>
                            <span>上一个案例</span>
                        </div>
                        <div class="nav-button next" onclick="navigateTo('case-detail-1')">
                            <span>下一个案例</span>
                            <span class="material-icons">arrow_forward</span>
                        </div>
                    </div>

                </div>
            </div>

            <!-- 门店活动详情页面1 -->
            <div class="page" id="campaign-detail-1">
                <div class="page-header">
                    <div class="back-button" onclick="goBack()">
                        <span class="material-icons">arrow_back</span>
                    </div>
                    <div class="page-title">活动详情</div>
                </div>

                <div class="breadcrumb">
                    <!-- 面包屑导航将由JavaScript动态生成 -->
                </div>

                <div class="campaign-detail">
                    <div class="campaign-banner">
                        <img src="images/campaign/campaign1.jpg" alt="明眸焕新计划">
                    </div>
                    <div class="campaign-content">
                        <h2 class="campaign-title">👀【明眸焕新计划】👩⚕️</h2>
                        <div class="campaign-time">即日起至6月30日</div>
                        <div class="campaign-description">
                            <p>进店享三重礼遇：</p>
                            <div class="campaign-benefits">
                                <div class="benefit-item">
                                    <div class="benefit-icon">1️⃣</div>
                                    <div class="benefit-text">免费视力检测+眼压测试（专业医师坐诊）</div>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">2️⃣</div>
                                    <div class="benefit-text">消费满500元赠价值198元"草本护眼茶饮礼盒"（决明子/菊花配方）</div>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">3️⃣</div>
                                    <div class="benefit-text">新客专享：眼部SPA护理首单立减100元💆♀️</div>
                                </div>
                            </div>
                            <div class="campaign-info">
                                <p><span class="material-icons">location_on</span> 活动门店：北京市朝阳区建国路88号</p>
                                <p><span class="material-icons">phone</span> 预约热线：010-12345678</p>
                            </div>
                            <p class="campaign-slogan">✨让眼睛与肌肤同享年轻态！</p>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="button" onclick="shareCampaign()">分享活动</button>
                    </div>
                </div>
            </div>

            <!-- 门店活动详情页面2 -->
            <div class="page" id="campaign-detail-2">
                <div class="page-header">
                    <div class="back-button" onclick="goBack()">
                        <span class="material-icons">arrow_back</span>
                    </div>
                    <div class="page-title">活动详情</div>
                </div>

                <div class="breadcrumb">
                    <!-- 面包屑导航将由JavaScript动态生成 -->
                </div>

                <div class="campaign-detail">
                    <div class="campaign-banner">
                        <img src="images/campaign/campaign2.jpg" alt="端午护眼粽动员">
                    </div>
                    <div class="campaign-content">
                        <h2 class="campaign-title">🌿【端午护眼"粽"动员】👓</h2>
                        <div class="campaign-time">6月6日-6月10日</div>
                        <div class="campaign-description">
                            <p>五重惊喜限时开启：</p>
                            <div class="campaign-benefits">
                                <div class="benefit-item">
                                    <div class="benefit-icon">🎁</div>
                                    <div class="benefit-text">惊喜一：6.6元抢购护眼蒸汽眼罩（每日限量50份）</div>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">🎁</div>
                                    <div class="benefit-text">惊喜二：配镜享6.6折，加赠防蓝光镜片升级</div>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">🎁</div>
                                    <div class="benefit-text">惊喜三：转发活动海报集38赞，免费体验冷敷褪黑眼圈护理</div>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">🎁</div>
                                    <div class="benefit-text">惊喜四：老客带新友，两人同行再减61元</div>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">🎁</div>
                                    <div class="benefit-text">惊喜五：消费满额抽奖赢"护眼美容年卡"💫</div>
                                </div>
                            </div>
                            <div class="campaign-info">
                                <p><span class="material-icons">location_on</span> 活动门店：北京市朝阳区建国路88号</p>
                                <p><span class="material-icons">phone</span> 预约热线：010-12345678</p>
                            </div>
                            <p class="campaign-slogan">👉活动仅限指定门店，速来抢占明眸福利！</p>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="button" onclick="shareCampaign()">分享活动</button>
                    </div>
                </div>
            </div>

            <!-- 门店活动详情页面3 -->
            <div class="page" id="campaign-detail-3">
                <div class="page-header">
                    <div class="back-button" onclick="goBack()">
                        <span class="material-icons">arrow_back</span>
                    </div>
                    <div class="page-title">活动详情</div>
                </div>

                <div class="breadcrumb">
                    <!-- 面包屑导航将由JavaScript动态生成 -->
                </div>

                <div class="campaign-detail">
                    <div class="campaign-banner">
                        <img src="images/campaign/campaign3.jpg" alt="以老带新，明眸双倍礼">
                    </div>
                    <div class="campaign-content">
                        <h2 class="campaign-title">👭【以老带新，明眸双倍礼】🎀</h2>
                        <div class="campaign-time">即日起</div>
                        <div class="campaign-description">
                            <p>老客户推荐新朋友到店：</p>
                            <div class="campaign-benefits">
                                <div class="benefit-item">
                                    <div class="benefit-icon">✅</div>
                                    <div class="benefit-text">新客首单享8折，并获赠"眼部抗衰精华试用装"</div>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">✅</div>
                                    <div class="benefit-text">老客立得100元无门槛券 + 专属抽奖机会（100%中奖）</div>
                                </div>
                            </div>
                            <p class="campaign-highlight">🌟推荐满3人额外赠送：</p>
                            <p class="campaign-highlight-content">价值299元"黄金胶原蛋白眼膜"一盒</p>
                            <div class="campaign-info">
                                <p><span class="material-icons">location_on</span> 活动门店：北京市朝阳区建国路88号</p>
                                <p><span class="material-icons">phone</span> 预约热线：010-12345678</p>
                            </div>
                            <p class="campaign-slogan">💌你我同行，让美丽从"眼"开始！</p>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="button" onclick="shareCampaign()">分享活动</button>
                    </div>
                </div>
            </div>

            <!-- 门店活动详情页面4 -->
            <div class="page" id="campaign-detail-4">
                <div class="page-header">
                    <div class="back-button" onclick="goBack()">
                        <span class="material-icons">arrow_back</span>
                    </div>
                    <div class="page-title">活动详情</div>
                </div>

                <div class="breadcrumb">
                    <!-- 面包屑导航将由JavaScript动态生成 -->
                </div>

                <div class="campaign-detail">
                    <div class="campaign-banner">
                        <img src="images/campaign/campaign1.jpg" alt="全民护眼课堂">
                    </div>
                    <div class="campaign-content">
                        <h2 class="campaign-title">📚【全民护眼课堂】👨👩👧👦</h2>
                        <div class="campaign-time">6月15日 14:00-17:00</div>
                        <div class="campaign-description">
                            <p>特邀眼科专家：</p>
                            <div class="campaign-benefits">
                                <div class="benefit-item">
                                    <div class="benefit-icon">🔍</div>
                                    <div class="benefit-text">揭秘"电子屏时代的护眼秘籍"</div>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">🔍</div>
                                    <div class="benefit-text">现场教学新版眼保健操（参与送护眼贴）</div>
                                </div>
                            </div>
                            <p class="campaign-highlight">🎯活动福利：</p>
                            <div class="campaign-benefits">
                                <div class="benefit-item">
                                    <div class="benefit-icon">1️⃣</div>
                                    <div class="benefit-text">学生凭学生证免费验光</div>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">2️⃣</div>
                                    <div class="benefit-text">家庭组团检测赠"儿童防近视训练图册"</div>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">3️⃣</div>
                                    <div class="benefit-text">现场下单享美容项目加赠眼部热敷</div>
                                </div>
                            </div>
                            <div class="campaign-info">
                                <p><span class="material-icons">location_on</span> 地点：北京市朝阳区建国路88号购物中心中庭</p>
                                <p><span class="material-icons">phone</span> 预约热线：010-12345678</p>
                            </div>
                            <p class="campaign-slogan">📲扫码报名，守护全家明眸健康！</p>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="button" onclick="shareCampaign()">分享活动</button>
                    </div>
                </div>
            </div>

            <!-- 服务页面 -->
            <div class="page" id="services-page">
                <div class="service-category">
                    <div class="section-title">眼部护理</div>
                    <div class="service-grid">
                        <div class="service-item" onclick="navigateToService('service-detail', 'dry-eye')">
                            <div class="service-icon">
                                <span class="material-icons">spa</span>
                            </div>
                            <div class="service-name">舒缓干眼服务</div>
                            <div class="service-price">¥298起</div>
                        </div>
                        <div class="service-item" onclick="navigateToService('service-detail', 'eye-bag')">
                            <div class="service-icon">
                                <span class="material-icons">face</span>
                            </div>
                            <div class="service-name">消除眼袋服务</div>
                            <div class="service-price">¥398起</div>
                        </div>
                        <div class="service-item" onclick="navigateToService('service-detail', 'eye-bright')">
                            <div class="service-icon">
                                <span class="material-icons">wb_sunny</span>
                            </div>
                            <div class="service-name">眼周提亮服务</div>
                            <div class="service-price">¥198起</div>
                        </div>
                    </div>
                </div>

                <div class="service-category">
                    <div class="section-title">眼部检测</div>
                    <div class="service-grid">
                        <div class="service-item" onclick="navigateTo('detection-page')">
                            <div class="service-icon">
                                <span class="material-icons">visibility</span>
                            </div>
                            <div class="service-name">眼部AI检测</div>
                            <div class="service-price">¥98</div>
                        </div>
                        <div class="service-item" onclick="navigateTo('detection-page')">
                            <div class="service-icon">
                                <span class="material-icons">assessment</span>
                            </div>
                            <div class="service-name">专业眼健康评估</div>
                            <div class="service-price">¥198</div>
                        </div>
                    </div>
                </div>

                <div class="service-category">
                    <div class="section-title">套餐推荐</div>
                    <div class="service-grid">
                        <div class="service-item" onclick="navigateToService('service-detail', 'eye-care')">
                            <div class="service-icon">
                                <span class="material-icons">card_giftcard</span>
                            </div>
                            <div class="service-name">眼部护理套餐</div>
                            <div class="service-price">¥498</div>
                        </div>
                        <div class="service-item" onclick="navigateToService('service-detail', 'eye-full')">
                            <div class="service-icon">
                                <span class="material-icons">stars</span>
                            </div>
                            <div class="service-name">眼部全套呵护</div>
                            <div class="service-price">¥998</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 服务详情页面 -->
            <div class="page" id="service-detail">
                <div class="service-detail-header">
                    <img id="service-detail-image" src="images/services/eye_bright.jpg" alt="服务图片"
                        style="width: 100%; height: 200px; object-fit: cover; border-radius: var(--border-radius) var(--border-radius) 0 0;">
                    <div class="service-detail-title" id="service-detail-title">眼周提亮服务</div>
                </div>

                <div class="card">
                    <div class="section-title">服务介绍</div>
                    <p id="service-detail-description">专业舒缓干眼症状，缓解眼疲劳，改善眼部不适。针对长时间使用电子设备导致的眼部问题，提供全方位的眼部护理方案。</p>
                </div>

                <div class="card">
                    <div class="section-title">服务流程</div>
                    <div class="detection-step">
                        <div class="step-number">1</div>
                        <div>眼部检测评估</div>
                    </div>
                    <div class="detection-step">
                        <div class="step-number">2</div>
                        <div>专业眼部清洁</div>
                    </div>
                    <div class="detection-step">
                        <div class="step-number">3</div>
                        <div>舒缓精华导入</div>
                    </div>
                    <div class="detection-step">
                        <div class="step-number">4</div>
                        <div>眼部按摩护理</div>
                    </div>
                    <div class="detection-step">
                        <div class="step-number">5</div>
                        <div>效果评估</div>
                    </div>
                </div>

                <div class="card">
                    <div class="section-title">适用人群</div>
                    <p>长时间用眼人群、干眼症患者、眼疲劳人群、电子设备使用频繁人群</p>
                </div>

                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="color: var(--text-secondary);">服务时长</div>
                            <div style="font-weight: 500;">45分钟</div>
                        </div>
                        <div>
                            <div style="color: var(--text-secondary);">价格</div>
                            <div style="font-weight: 500; color: var(--primary-color);">¥298</div>
                        </div>
                    </div>
                </div>

                <div style="display: flex; gap: 16px; margin-top: 24px;">
                    <button class="button secondary" style="flex: 1;">推荐给客户</button>
                </div>
            </div>

            <!-- 检测页面 -->
            <div class="page" id="detection-page">
                <div class="detection-intro">
                    <h2 style="margin-bottom: 16px;">眼部AI检测</h2>
                    <p>通过AI技术分析眼部状况，提供五维度健康评分和个性化方案推荐</p>
                </div>

                <div class="card">
                    <div class="section-title">检测内容</div>
                    <div class="detection-steps">
                        <div class="detection-step">
                            <div class="step-number">1</div>
                            <div>9题专业问卷评估</div>
                        </div>
                        <div class="detection-step">
                            <div class="step-number">2</div>
                            <div>AI眼部图像分析</div>
                        </div>
                        <div class="detection-step">
                            <div class="step-number">3</div>
                            <div>五维度健康评分</div>
                        </div>
                        <div class="detection-step">
                            <div class="step-number">4</div>
                            <div>个性化方案推荐</div>
                        </div>
                    </div>

                    <div style="display: flex; justify-content: space-between; margin-top: 16px;">
                        <div>
                            <div style="color: var(--text-secondary);">检测时长</div>
                            <div style="font-weight: 500;">约5分钟</div>
                        </div>
                        <div>
                            <div style="color: var(--text-secondary);">检测费用</div>
                            <div style="font-weight: 500; color: var(--primary-color);">¥98 (可抵扣产品/服务)</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="section-title">最近检测客户</div>
                    <div class="recent-customers">
                        <div class="customer-item" onclick="startDetection('existing')">
                            <div style="font-weight: 500;">陈先生</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">3天前</div>
                        </div>
                        <div class="customer-item" onclick="startDetection('existing')">
                            <div style="font-weight: 500;">李先生</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">1周前</div>
                        </div>
                        <div class="customer-item" onclick="startDetection('existing')">
                            <div style="font-weight: 500;">王女士</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">1月前</div>
                        </div>
                    </div>
                </div>

                <div class="detection-actions">
                    <button class="button" onclick="startDetection('new')">开始新检测</button>
                </div>
            </div>

            <!-- 客户页面 -->
            <div class="page" id="customers-page">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <div class="section-title">客户管理</div>
                    <div style="display: flex; gap: 8px;">
                        <button class="icon-button" style="background-color: var(--card-color);">
                            <span class="material-icons">search</span>
                        </button>
                        <button class="icon-button" style="background-color: var(--card-color);">
                            <span class="material-icons">add</span>
                        </button>
                    </div>
                </div>

                <div class="customer-filter">
                    <div class="filter-item active">全部</div>
                    <div class="filter-item">新客户</div>
                    <div class="filter-item">复购客户</div>
                    <div class="filter-item">VIP客户</div>
                    <div class="filter-item">流失客户</div>
                </div>

                <div class="customer-grid">
                    <div class="customer-card" onclick="navigateTo('customer-detail')">
                        <div class="customer-name">陈先生</div>
                        <div class="customer-info">135****8888</div>
                        <div class="customer-info">最近: 3天前</div>
                        <div class="customer-stats">
                            <div>消费: ¥1298</div>
                            <div>检测: 3次</div>
                        </div>
                    </div>
                    <div class="customer-card" onclick="navigateTo('customer-detail')">
                        <div class="customer-name">李先生</div>
                        <div class="customer-info">139****6666</div>
                        <div class="customer-info">最近: 1周前</div>
                        <div class="customer-stats">
                            <div>消费: ¥698</div>
                            <div>检测: 2次</div>
                        </div>
                    </div>
                    <div class="customer-card" onclick="navigateTo('customer-detail')">
                        <div class="customer-name">王女士</div>
                        <div class="customer-info">187****2222</div>
                        <div class="customer-info">最近: 1月前</div>
                        <div class="customer-stats">
                            <div>消费: ¥498</div>
                            <div>检测: 1次</div>
                        </div>
                    </div>
                    <div class="customer-card" onclick="navigateTo('customer-detail')">
                        <div class="customer-name">赵先生</div>
                        <div class="customer-info">158****5555</div>
                        <div class="customer-info">最近: 2周前</div>
                        <div class="customer-stats">
                            <div>消费: ¥998</div>
                            <div>检测: 2次</div>
                        </div>
                    </div>
                </div>

                <div
                    style="background-color: var(--card-color); border-radius: var(--border-radius); padding: 16px; margin-top: 24px; display: flex; justify-content: space-around; text-align: center;">
                    <div>
                        <div style="font-weight: 500;">128</div>
                        <div style="font-size: 14px; color: var(--text-secondary);">总客户</div>
                    </div>
                    <div>
                        <div style="font-weight: 500;">15</div>
                        <div style="font-size: 14px; color: var(--text-secondary);">本月新增</div>
                    </div>
                    <div>
                        <div style="font-weight: 500;">45%</div>
                        <div style="font-size: 14px; color: var(--text-secondary);">复购率</div>
                    </div>
                </div>
            </div>

            <!-- 客户详情页面 -->
            <div class="page" id="customer-detail">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <span class="material-icons">person</span>
                    </div>
                    <div class="profile-info">
                        <div class="profile-name">陈先生</div>
                        <div class="profile-role">电话: 135****8888</div>
                        <div class="profile-role">年龄: 35岁 性别: 男</div>
                    </div>
                    <button class="icon-button" style="background-color: var(--card-color);">
                        <span class="material-icons">edit</span>
                    </button>
                </div>

                <div style="display: flex; gap: 8px; margin-bottom: 16px; flex-wrap: wrap;">
                    <div
                        style="background-color: #E3F2FD; color: var(--primary-color); border-radius: 16px; padding: 4px 12px; font-size: 14px;">
                        干眼症</div>
                    <div
                        style="background-color: #E3F2FD; color: var(--primary-color); border-radius: 16px; padding: 4px 12px; font-size: 14px;">
                        敏感肌</div>
                    <div
                        style="background-color: #E3F2FD; color: var(--primary-color); border-radius: 16px; padding: 4px 12px; font-size: 14px;">
                        VIP客户</div>
                    <div
                        style="background-color: #EEEEEE; color: var(--text-secondary); border-radius: 16px; padding: 4px 12px; font-size: 14px;">
                        +添加</div>
                </div>

                <div class="card">
                    <div class="section-title">检测记录</div>
                    <div style="background-color: #F5F5F5; border-radius: var(--border-radius); padding: 12px; margin-bottom: 8px;"
                        onclick="navigateTo('detection-result')">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                            <div>2025-03-15</div>
                            <div style="font-weight: 500;">综合评分: 78</div>
                        </div>
                        <div style="color: var(--text-secondary); font-size: 14px;">主要问题: 眼疲劳、轻度眼袋</div>
                    </div>
                    <div style="background-color: #F5F5F5; border-radius: var(--border-radius); padding: 12px;"
                        onclick="navigateTo('detection-result')">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                            <div>2025-02-10</div>
                            <div style="font-weight: 500;">综合评分: 72</div>
                        </div>
                        <div style="color: var(--text-secondary); font-size: 14px;">主要问题: 眼疲劳、眼纹、眼袋</div>
                    </div>
                </div>

                <div class="card">
                    <div class="section-title">消费记录</div>
                    <div
                        style="background-color: #F5F5F5; border-radius: var(--border-radius); padding: 12px; margin-bottom: 8px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                            <div>2025-03-15</div>
                            <div style="font-weight: 500; color: var(--primary-color);">¥298</div>
                        </div>
                        <div style="color: var(--text-secondary); font-size: 14px;">舒缓干眼服务</div>
                    </div>
                    <div style="background-color: #F5F5F5; border-radius: var(--border-radius); padding: 12px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                            <div>2025-02-10</div>
                            <div style="font-weight: 500; color: var(--primary-color);">¥998</div>
                        </div>
                        <div style="color: var(--text-secondary); font-size: 14px;">眼部护理套餐</div>
                    </div>
                </div>

                <div style="display: flex; gap: 16px; margin-top: 24px;">
                    <button class="button" style="flex: 1;" onclick="startDetection('existing')">开始检测</button>
                    <button class="button secondary" style="flex: 1;">推荐服务</button>
                    <button class="button secondary" style="flex: 1;">添加跟进</button>
                </div>
            </div>

            <!-- 我的页面（美容顾问视图） -->
            <div class="page" id="profile-page">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <span class="material-icons">person</span>
                    </div>
                    <div class="profile-info">
                        <div class="profile-name">李美容</div>
                        <div class="profile-role">角色: 美容顾问</div>
                        <div class="profile-role">门店: 美睛美科中心店</div>
                    </div>
                </div>

                <div class="section-title">我的业绩</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-title">本月检测</div>
                        <div class="stat-value">45</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">本月转化</div>
                        <div class="stat-value">60%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">本月销售</div>
                        <div class="stat-value">¥12580</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">目标完成</div>
                        <div class="stat-value">85%</div>
                    </div>
                </div>

                <div class="section-title">今日数据</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-title">今日检测</div>
                        <div class="stat-value">5</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">今日转化</div>
                        <div class="stat-value">60%</div>
                    </div>
                </div>

                <div class="section-title">功能中心</div>
                <div class="function-grid">
                    <div class="function-item" onclick="navigateTo('detection-history')">
                        <div class="function-icon">
                            <span class="material-icons">visibility</span>
                        </div>
                        <div class="function-name">检测记录</div>
                    </div>
                    <div class="function-item" onclick="navigateTo('customers-page')">
                        <div class="function-icon">
                            <span class="material-icons">people</span>
                        </div>
                        <div class="function-name">客户管理</div>
                    </div>
                    <div class="function-item disabled" data-tooltip="暂不实现">
                        <div class="function-icon">
                            <span class="material-icons">school</span>
                        </div>
                        <div class="function-name">知识学习</div>
                    </div>
                    <div class="function-item disabled" data-tooltip="暂不实现">
                        <div class="function-icon">
                            <span class="material-icons">help</span>
                        </div>
                        <div class="function-name">帮助中心</div>
                    </div>
                </div>

                <div style="display: flex; gap: 16px; margin-top: 24px;">
                    <button class="button danger" style="flex: 1;" onclick="logout()">退出登录</button>
                </div>
            </div>

            <!-- 检测流程 - 客户选择 -->
            <div class="page" id="detection-customer">
                <div class="flow-header">
                    <div class="flow-title">客户选择</div>
                    <div class="flow-progress">1/4</div>
                </div>

                <div style="position: relative; margin-bottom: 16px;">
                    <input type="text" placeholder="搜索客户/输入电话号码"
                        style="width: 100%; padding: 12px 16px; padding-left: 48px; border-radius: 24px; border: none; background-color: var(--card-color); box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
                    <span class="material-icons"
                        style="position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: var(--text-secondary);">search</span>
                </div>

                <div class="customer-grid">
                    <div class="customer-card" onclick="navigateTo('detection-questionnaire')">
                        <div class="customer-name">陈先生</div>
                        <div class="customer-info">135****8888</div>
                        <div class="customer-info">上次检测: 3天前</div>
                    </div>
                    <div class="customer-card" onclick="navigateTo('detection-questionnaire')">
                        <div class="customer-name">李先生</div>
                        <div class="customer-info">139****6666</div>
                        <div class="customer-info">首次检测</div>
                    </div>
                    <div class="customer-card" onclick="navigateTo('detection-questionnaire')">
                        <div class="customer-name">王女士</div>
                        <div class="customer-info">187****2222</div>
                        <div class="customer-info">上次检测: 1月前</div>
                    </div>
                    <div class="customer-card" onclick="navigateTo('detection-questionnaire')">
                        <div class="customer-name">赵先生</div>
                        <div class="customer-info">158****5555</div>
                        <div class="customer-info">上次检测: 2周前</div>
                    </div>
                </div>

                <button class="button" style="width: 100%; margin-top: 24px;" onclick="navigateTo('new-customer')">
                    <span class="material-icons">add</span>
                    新建客户
                </button>
            </div>

            <!-- 新建客户页面 -->
            <div class="page" id="new-customer">
                <div class="flow-header">
                    <div class="flow-title">新建客户</div>
                    <button class="icon-button" onclick="navigateTo('detection-customer')"
                        style="background-color: var(--card-color);">
                        <span class="material-icons">close</span>
                    </button>
                </div>

                <div class="profile-header" style="margin-bottom: 32px;">
                    <div class="profile-avatar" style="cursor: pointer;"
                        onclick="document.getElementById('avatar-upload').click()">
                        <span class="material-icons">add_a_photo</span>
                        <input type="file" id="avatar-upload" style="display: none;" accept="image/*">
                    </div>
                    <div class="profile-info">
                        <div class="profile-role">点击左侧添加头像照片</div>
                    </div>
                </div>

                <div class="card">
                    <div class="section-title">基本信息</div>
                    <div style="display: grid; gap: 16px;">
                        <div class="form-group">
                            <label>姓名 <span style="color: #F44336;">*</span></label>
                            <input type="text" placeholder="请输入客户姓名" class="form-input">
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                            <div class="form-group">
                                <label>性别 <span style="color: #F44336;">*</span></label>
                                <div class="radio-group">
                                    <div class="radio-item" onclick="selectGender(this, '女')">
                                        <div class="radio-button"></div>
                                        <div class="radio-label">女</div>
                                    </div>
                                    <div class="radio-item" onclick="selectGender(this, '男')">
                                        <div class="radio-button"></div>
                                        <div class="radio-label">男</div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>年龄 <span style="color: #F44336;">*</span></label>
                                <select class="form-input">
                                    <option value="">请选择</option>
                                    <option value="18-24">18-24岁</option>
                                    <option value="25-34">25-34岁</option>
                                    <option value="35-44">35-44岁</option>
                                    <option value="45-54">45-54岁</option>
                                    <option value="55+">55岁以上</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>手机号 <span style="color: #F44336;">*</span></label>
                            <input type="tel" placeholder="请输入手机号" class="form-input" maxlength="11">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="section-title">日常用眼情况</div>
                    <div class="form-group">
                        <label>每日用眼时长</label>
                        <div class="radio-group">
                            <div class="radio-item" onclick="selectEyeTime(this)">
                                <div class="radio-button"></div>
                                <div class="radio-label">＜2小时</div>
                            </div>
                            <div class="radio-item" onclick="selectEyeTime(this)">
                                <div class="radio-button"></div>
                                <div class="radio-label">2-6小时</div>
                            </div>
                            <div class="radio-item" onclick="selectEyeTime(this)">
                                <div class="radio-button"></div>
                                <div class="radio-label">＞6小时</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group" style="margin-top: 16px;">
                        <label>主要用眼场景（可多选）</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item" onclick="toggleCheckbox(this)">
                                <div class="checkbox"></div>
                                <div class="checkbox-label">电脑办公</div>
                            </div>
                            <div class="checkbox-item" onclick="toggleCheckbox(this)">
                                <div class="checkbox"></div>
                                <div class="checkbox-label">手机娱乐</div>
                            </div>
                            <div class="checkbox-item" onclick="toggleCheckbox(this)">
                                <div class="checkbox"></div>
                                <div class="checkbox-label">看书学习</div>
                            </div>
                            <div class="checkbox-item" onclick="toggleCheckbox(this)">
                                <div class="checkbox"></div>
                                <div class="checkbox-label">户外活动</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="display: flex; gap: 16px; margin-top: 24px;">
                    <button class="button" style="flex: 1;" onclick="startNewCustomerDetection()">开始检测</button>
                    <button class="button secondary" style="flex: 1;" onclick="saveCustomerInfo()">保存信息</button>
                </div>
            </div>


            <!-- 检测流程 - 问卷调查 -->
            <div class="page" id="detection-questionnaire">
                <div class="flow-header">
                    <div class="flow-title">问卷调查</div>
                    <div class="flow-progress">2/4</div>
                </div>

                <!-- 问题1 -->
                <div class="question-card" id="question-1">
                    <div class="question-title">问题1: 眼睛异物感情况（进沙子）</div>
                    <div class="question-options">
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">有</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">一般，偶尔有这种感觉</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">无</div>
                        </div>
                    </div>
                    <div class="question-hint">此题用于评估重度/中度/轻度干眼</div>
                </div>

                <!-- 问题2 -->
                <div class="question-card" id="question-2" style="display: none;">
                    <div class="question-title">问题2: 眼睛不适感与劳累感情况（看书/看电视时）</div>
                    <div class="question-options">
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">有</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">一般，偶尔有这种感觉</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">无</div>
                        </div>
                    </div>
                    <div class="question-hint">此题用于评估重度/中度/轻度视疲劳</div>
                </div>

                <!-- 问题3 -->
                <div class="question-card" id="question-3" style="display: none;">
                    <div class="question-title">问题3: 每日看手机/电视的时长</div>
                    <div class="question-options">
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">＞6h</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">2~6h</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">＜2h</div>
                        </div>
                    </div>
                    <div class="question-hint">此题用于评估视疲劳程度和眨眼频率</div>
                </div>

                <!-- 问题4 -->
                <div class="question-card" id="question-4" style="display: none;">
                    <div class="question-title">问题4: 纹眼线情况</div>
                    <div class="question-options">
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">纹过</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">没纹过</div>
                        </div>
                    </div>
                    <div class="question-hint">此题用于评估眼睑堵塞程度</div>
                </div>

                <!-- 问题5 -->
                <div class="question-card" id="question-5" style="display: none;">
                    <div class="question-title">问题5: 种植假睫毛情况</div>
                    <div class="question-options">
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">种植过</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">没种植过</div>
                        </div>
                    </div>
                    <div class="question-hint">此题用于评估眼睑堵塞程度</div>
                </div>

                <!-- 问题6 -->
                <div class="question-card" id="question-6" style="display: none;">
                    <div class="question-title">问题6: 眼皮松弛程度</div>
                    <div class="question-options">
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">严重</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">轻微</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">良好</div>
                        </div>
                    </div>
                    <div class="question-hint">此题用于评估眼皮松弛程度</div>
                </div>

                <!-- 问题7 -->
                <div class="question-card" id="question-7" style="display: none;">
                    <div class="question-title">问题7: 眼窝凹陷情况</div>
                    <div class="question-options">
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">严重</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">轻微</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">无</div>
                        </div>
                    </div>
                    <div class="question-hint">此题用于评估眼窝凹陷程度</div>
                </div>

                <!-- 问题8 -->
                <div class="question-card" id="question-8" style="display: none;">
                    <div class="question-title">问题8: 眼袋情况</div>
                    <div class="question-options">
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">眼袋明显且面积大</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">眼袋明显但面积不大</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">轻微有点眼袋</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">无</div>
                        </div>
                    </div>
                    <div class="question-hint">此题用于评估眼袋程度</div>
                </div>

                <!-- 问题9 -->
                <div class="question-card" id="question-9" style="display: none;">
                    <div class="question-title">问题9: 眼压情况</div>
                    <div class="question-options">
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">明显硬、鼓胀（硬度与额头一样）</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">有点硬、鼓胀（介于两者之间）</div>
                        </div>
                        <div class="option-item" onclick="selectOption(this)">
                            <div class="option-radio"></div>
                            <div class="option-label">有弹性、略微鼓胀（硬度与鼻尖一样）</div>
                        </div>
                    </div>
                    <div class="question-hint">此题用于评估眼压水平</div>
                </div>

                <div class="flow-actions">
                    <button class="button secondary" onclick="previousQuestion()">上一题</button>
                    <!-- <button class="button" onclick="nextQuestion()">下一题</button> -->
                </div>
            </div>

            <!-- 检测流程 - 图像采集 -->
            <div class="page" id="detection-camera">
                <div class="flow-header">
                    <div class="flow-title">图像采集</div>
                    <div class="flow-progress">3/4</div>
                </div>

                <div class="camera-container">
                    <img src="https://via.placeholder.com/1920x1080/000000/FFFFFF?text=相机预览" alt="相机预览"
                        class="camera-preview">
                    <div class="camera-guide"></div>
                    <div class="camera-instruction">
                        请引导客户:
                        <br>- 眼睛对准框内
                        <br>- 保持自然表情
                        <br>- 避免眨眼
                    </div>
                </div>

                <div class="camera-controls">
                    <button class="icon-button" style="background-color: var(--card-color);">
                        <span class="material-icons">wb_sunny</span>
                    </button>
                    <div class="camera-button" onclick="navigateTo('detection-result')">
                        <div class="camera-button-inner"></div>
                    </div>
                    <button class="icon-button" style="background-color: var(--card-color);">
                        <span class="material-icons">flip_camera_android</span>
                    </button>
                </div>

                <div class="flow-actions">
                    <button class="button secondary" onclick="navigateTo('detection-questionnaire')">上一步</button>
                    <button class="button secondary" disabled>下一步</button>
                </div>
            </div>

            <!-- 检测流程 - 结果展示 -->
            <div class="page" id="detection-result">
                <div class="flow-header">
                    <div class="flow-title">检测结果</div>
                    <div class="flow-progress">4/4</div>
                </div>

                <div class="section-title">AI图像检测结果</div>
                <div class="image-analysis-grid">
                    <!-- AI图像分析结果将由JavaScript动态生成 -->
                </div>


                <div class="result-header">
                    <div class="result-score" id="overall-score">78</div>
                    <div class="result-level" id="health-level">健康等级: 一般</div>
                </div>

                <div class="radar-chart">
                    <div id="detectionRadarChart" style="width: 100%; height: 300px;"></div>
                </div>

                <div class="dimension-list" id="dimension-list-container">
                    <!-- 维度列表将由JavaScript动态生成 -->
                </div>

                <div class="result-actions">
                    <button class="button" onclick="navigateTo('detection-report')">查看完整报告</button>
                    <button class="button secondary" onclick="navigateTo('home-page')">返回首页</button>
                </div>
            </div>

            <!-- 维度详情页面 -->
            <div class="page" id="dimension-detail">
                <div class="dimension-detail-header">
                    <div class="dimension-detail-score">65</div>
                    <div class="dimension-detail-level">疲劳度 - 中度</div>
                </div>

                <div class="detail-grid">
                    <div class="eye-image-container">
                        <img src="https://via.placeholder.com/400x300/FFFFFF/2196F3?text=眼部图像" alt="眼部图像"
                            class="eye-image">
                    </div>
                    <div class="analysis-container">
                        <div class="analysis-title">问题分析</div>
                        <div class="analysis-item">
                            <div class="analysis-label">眼睛异物感:</div>
                            <div class="analysis-value">中度</div>
                        </div>
                        <div class="analysis-item">
                            <div class="analysis-label">眼睛不适感:</div>
                            <div class="analysis-value">轻度</div>
                        </div>
                        <div class="analysis-item">
                            <div class="analysis-label">电子设备使用:</div>
                            <div class="analysis-value">重度</div>
                        </div>
                    </div>
                </div>

                <div class="suggestions-container">
                    <div class="suggestions-title">改善建议</div>
                    <div class="suggestion-item">
                        <div class="suggestion-number">1</div>
                        <div class="suggestion-text">减少电子设备使用时间，每小时休息10分钟</div>
                    </div>
                    <div class="suggestion-item">
                        <div class="suggestion-number">2</div>
                        <div class="suggestion-text">注意用眼卫生，每小时休息10分钟</div>
                    </div>
                    <div class="suggestion-item">
                        <div class="suggestion-number">3</div>
                        <div class="suggestion-text">使用专业眼部舒缓产品</div>
                    </div>
                </div>

                <div class="result-actions">
                    <button class="button" onclick="navigateTo('detection-result')">其他维度</button>
                    <button class="button secondary" onclick="navigateTo('recommendation')">推荐产品</button>
                </div>
            </div>


            <!-- 检测详情页面 -->
            <!-- 修改页面头部，添加返回按钮和标题 -->
            <!-- 以下是一个示例，需要为每个页面添加类似的头部 -->
            <div class="page" id="detection-detail">
                <div class="page-header">
                    <div class="back-button" onclick="goBack()">
                        <span class="material-icons">arrow_back</span>
                    </div>
                    <div class="page-title">检测详情</div>
                </div>


                <div class="flow-header">
                    <div class="flow-title">检测详情</div>
                    <div style="color: var(--text-secondary);">2025-03-15 14:30</div>
                </div>

                <div class="card">
                    <div class="section-title">问卷分析</div>
                    <div style="display: grid; gap: 16px;">
                        <div style="background-color: #F5F5F5; border-radius: var(--border-radius); padding: 16px;">
                            <div style="font-weight: 500; margin-bottom: 8px;">眼部疲劳指数：75分</div>
                            <div style="color: var(--text-secondary);">根据问卷答案分析，您存在中度眼疲劳症状：</div>
                            <ul style="color: var(--text-secondary); margin: 8px 0 0 20px;">
                                <li>每日用眼时间超过6小时</li>
                                <li>经常感觉眼睛干涩不适</li>
                                <li>存在轻微的异物感</li>
                            </ul>
                        </div>

                        <div style="background-color: #F5F5F5; border-radius: var(--border-radius); padding: 16px;">
                            <div style="font-weight: 500; margin-bottom: 8px;">眼部健康习惯：65分</div>
                            <div style="color: var(--text-secondary);">存在以下不良用眼习惯：</div>
                            <ul style="color: var(--text-secondary); margin: 8px 0 0 20px;">
                                <li>长时间注视电子屏幕</li>
                                <li>休息间隔时间不足</li>
                                <li>用眼环境光线不足</li>
                            </ul>
                        </div>
                    </div>
                </div>


                <div class="card">
                    <div class="section-title">AI图像分析</div>
                    <div class="image-analysis-grid">
                        <div class="analysis-item">
                            <div class="analysis-title">
                                <span class="material-icons">visibility</span>
                                <span class="analysis-title-text">黑眼圈分析</span>
                            </div>
                            <div class="analysis-content">
                                <div class="analysis-images">
                                    <div class="image-compare">
                                        <img src="https://via.placeholder.com/400x266" alt="原始图像">
                                        <div class="image-label">原始图像</div>
                                    </div>
                                    <div class="image-compare">
                                        <img src="https://via.placeholder.com/400x266" alt="AI标注">
                                        <div class="image-label">AI标注</div>
                                    </div>
                                </div>
                                <div class="analysis-result">
                                    <div class="result-title">检测结果：中度黑眼圈</div>
                                    <div class="result-details">
                                        <div class="result-item">• 面积：12.5cm²</div>
                                        <div class="result-item">• 深度：中等</div>
                                        <div class="result-item">• 分布：主要集中在眼睑下方</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="analysis-item">
                            <div class="analysis-title">
                                <span class="material-icons">visibility</span>
                                <span class="analysis-title-text">眼纹分析</span>
                            </div>
                            <div class="analysis-content">
                                <div class="analysis-images">
                                    <div class="image-compare">
                                        <img src="https://via.placeholder.com/400x266" alt="原始图像">
                                        <div class="image-label">原始图像</div>
                                    </div>
                                    <div class="image-compare">
                                        <img src="https://via.placeholder.com/400x266" alt="AI标注">
                                        <div class="image-label">AI标注</div>
                                    </div>
                                </div>
                                <div class="analysis-result">
                                    <div class="result-title">检测结果：轻度眼纹</div>
                                    <div class="result-details">
                                        <div class="result-item">• 数量：6条</div>
                                        <div class="result-item">• 深度：浅表层</div>
                                        <div class="result-item">• 类型：主要为鱼尾纹</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="analysis-item">
                            <div class="analysis-title">
                                <span class="material-icons">visibility</span>
                                <span class="analysis-title-text">眼袋分析</span>
                            </div>
                            <div class="analysis-content">
                                <div class="analysis-images">
                                    <div class="image-compare">
                                        <img src="https://via.placeholder.com/400x266" alt="原始图像">
                                        <div class="image-label">原始图像</div>
                                    </div>
                                    <div class="image-compare">
                                        <img src="https://via.placeholder.com/400x266" alt="AI标注">
                                        <div class="image-label">AI标注</div>
                                    </div>
                                </div>
                                <div class="analysis-result">
                                    <div class="result-title">检测结果：轻微眼袋</div>
                                    <div class="result-details">
                                        <div class="result-item">• 突出度：2.3mm</div>
                                        <div class="result-item">• 面积：小面积</div>
                                        <div class="result-item">• 性质：浅表性眼袋</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="card">
                    <div class="section-title">历史对比</div>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse; margin: 16px 0;">
                            <thead>
                                <tr style="background-color: #F5F5F5;">
                                    <th style="padding: 12px; text-align: left;">检测日期</th>
                                    <th style="padding: 12px; text-align: center;">综合评分</th>
                                    <th style="padding: 12px; text-align: center;">疲劳度</th>
                                    <th style="padding: 12px; text-align: center;">黑眼圈</th>
                                    <th style="padding: 12px; text-align: center;">眼纹</th>
                                    <th style="padding: 12px; text-align: center;">眼袋</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border-bottom: 1px solid #E0E0E0;">
                                    <td style="padding: 12px;">2025-03-15</td>
                                    <td style="padding: 12px; text-align: center; color: var(--primary-color);">78</td>
                                    <td style="padding: 12px; text-align: center;">75</td>
                                    <td style="padding: 12px; text-align: center;">72</td>
                                    <td style="padding: 12px; text-align: center;">80</td>
                                    <td style="padding: 12px; text-align: center;">85</td>
                                </tr>
                                <tr style="border-bottom: 1px solid #E0E0E0;">
                                    <td style="padding: 12px;">2025-02-10</td>
                                    <td style="padding: 12px; text-align: center; color: var(--primary-color);">72</td>
                                    <td style="padding: 12px; text-align: center;">70</td>
                                    <td style="padding: 12px; text-align: center;">68</td>
                                    <td style="padding: 12px; text-align: center;">75</td>
                                    <td style="padding: 12px; text-align: center;">75</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div style="display: flex; gap: 16px; margin-top: 24px;">
                    <button class="button" style="flex: 1;" onclick="navigateTo('detection-report')">查看报告</button>
                    <button class="button secondary" style="flex: 1;"
                        onclick="navigateTo('recommendation')">查看方案</button>
                </div>
            </div>




            <!-- 检测报告页面 -->
            <!-- 为其他页面也添加类似的页面头部结构 -->
            <div class="page" id="detection-report">
                <div class="page-header">
                    <div class="back-button" onclick="goBack()">
                        <span class="material-icons">arrow_back</span>
                    </div>
                    <div class="page-title">检测报告</div>
                </div>

                <div class="flow-header">
                    <!-- <div class="flow-title">检测报告</div> -->
                    <div class="report-date">2025-03-15 14:30</div>
                </div>

                <div class="report-header">
                    <div class="report-customer-info">
                        <div class="report-customer-item">
                            <div class="report-customer-label">客户姓名</div>
                            <div class="report-customer-value">陈先生</div>
                        </div>
                        <div class="report-customer-item">
                            <div class="report-customer-label">年龄</div>
                            <div class="report-customer-value">35岁</div>
                        </div>
                        <div class="report-customer-item">
                            <div class="report-customer-label">性别</div>
                            <div class="report-customer-value">男</div>
                        </div>
                        <div class="report-customer-item">
                            <div class="report-customer-label">检测次数</div>
                            <div class="report-customer-value">第3次</div>
                        </div>
                    </div>
                </div>

                <div class="report-section">
                    <div class="report-section-title">问卷答案分析</div>
                    <div class="questionnaire-results">
                        <div class="question-result">
                            <div class="question-text">1. 眼睛异物感情况</div>
                            <div class="answer-text">一般，偶尔有这种感觉</div>
                            <div class="analysis-text">轻度干眼症状</div>
                        </div>
                        <div class="question-result">
                            <div class="question-text">2. 每日用眼时长</div>
                            <div class="answer-text">8-12小时</div>
                            <div class="analysis-text">用眼时间过长，易导致视疲劳</div>
                        </div>
                        <div class="question-result">
                            <div class="question-text">3. 眼部疲劳感频率</div>
                            <div class="answer-text">经常（每周3-5次）</div>
                            <div class="analysis-text">中度视疲劳，需要注意休息</div>
                        </div>
                        <div class="question-result">
                            <div class="question-text">4. 眼睛干涩程度</div>
                            <div class="answer-text">中度干涩，有时需要使用眼药水</div>
                            <div class="analysis-text">泪液分泌不足，建议补充人工泪液</div>
                        </div>
                        <div class="question-result">
                            <div class="question-text">5. 眼部护理习惯</div>
                            <div class="answer-text">偶尔进行，不够规律</div>
                            <div class="analysis-text">护理意识有待提高，建议建立日常护理习惯</div>
                        </div>
                        <div class="question-result">
                            <div class="question-text">6. 睡眠质量评估</div>
                            <div class="answer-text">一般，有时会失眠</div>
                            <div class="analysis-text">睡眠不足影响眼部恢复，建议改善睡眠环境</div>
                        </div>
                        <div class="question-result">
                            <div class="question-text">7. 用眼环境光线</div>
                            <div class="answer-text">光线偏暗，常在昏暗环境下用眼</div>
                            <div class="analysis-text">不良光线环境增加眼部负担，建议调整照明</div>
                        </div>
                        <div class="question-result">
                            <div class="question-text">8. 眼部不适缓解方式</div>
                            <div class="answer-text">主要依赖眼药水</div>
                            <div class="analysis-text">缺乏多样化的缓解方式，建议学习眼部按摩和热敷</div>
                        </div>
                        <div class="question-result">
                            <div class="question-text">9. 眼部保健意识</div>
                            <div class="answer-text">有一定意识，但执行不够到位</div>
                            <div class="analysis-text">需要加强保健知识学习和习惯养成</div>
                        </div>
                    </div>
                </div>

                <div class="report-section">
                    <div class="report-section-title">AI图像检测结果</div>
                    <div class="image-analysis-grid">
                        <!-- AI图像分析结果将由JavaScript动态生成 -->

                    </div>
                </div>

                <div class="report-section">
                    <div class="report-section-title">综合评估</div>
                    <div class="radar-chart-container">
                        <!-- 雷达图容器 -->
                        <div id="eyeRadarChart" style="width: 100%; height: 350px;"></div>
                    </div>

                    <div class="dimension-scores">
                        <div class="dimension-score-item" data-dimension="fatigue">
                            <div class="dimension-header" onclick="toggleDimensionDetail('fatigue')">
                                <div class="dimension-title">
                                    <div class="dimension-name">疲劳度</div>
                                    <div class="score-bar-container">
                                        <div class="score-bar" style="width: 65%;">
                                            <span class="score-value">65</span>
                                        </div>
                                    </div>
                                </div>
                                <span class="material-icons toggle-icon">expand_more</span>
                            </div>
                            <div class="dimension-detail">
                                <div class="detail-content">
                                    <h4>疲劳度详细分析</h4>
                                    <div class="detail-metrics">
                                        <div class="metric-item">
                                            <div class="metric-label">视疲劳指数</div>
                                            <div class="metric-value">中度（65分）</div>
                                        </div>
                                        <div class="metric-item">
                                            <div class="metric-label">用眼负荷</div>
                                            <div class="metric-value">过重</div>
                                        </div>
                                        <div class="metric-item">
                                            <div class="metric-label">恢复能力</div>
                                            <div class="metric-value">一般</div>
                                        </div>
                                    </div>
                                    <div class="detail-suggestion">
                                        <h5>改善建议</h5>
                                        <ul>
                                            <li>每隔45分钟建议休息5分钟</li>
                                            <li>注意调整屏幕亮度和距离</li>
                                            <li>可以进行眼部按摩和热敷</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="dimension-score-item" data-dimension="turbidity">
                            <div class="dimension-header" onclick="toggleDimensionDetail('turbidity')">
                                <div class="dimension-title">
                                    <div class="dimension-name">浑浊度</div>
                                    <div class="score-bar-container">
                                        <div class="score-bar" style="width: 72%;">
                                            <span class="score-value">72</span>
                                        </div>
                                    </div>
                                </div>
                                <span class="material-icons toggle-icon">expand_more</span>
                            </div>
                                       
                            <div class="dimension-detail">
                                <div class="detail-content">
                                    <h4>浑浊度详细分析</h4>
                                    <div class="detail-metrics">
                                        <div class="metric-item">
                                            <div class="metric-label">角膜透明度</div>
                                            <div class="metric-value">良好（72分）</div>
                                        </div>
                                        <div class="metric-item">
                                            <div class="metric-label">泪膜稳定性</div>
                                            <div class="metric-value">一般</div>
                                        </div>
                                        <div class="metric-item">
                                            <div class="metric-label">结膜充血</div>
                                            <div class="metric-value">轻度</div>
                                        </div>
                                    </div>
                                    <div class="detail-suggestion">
                                        <h5>改善建议</h5>
                                        <ul>
                                            <li>使用无防腐剂人工泪液</li>
                                            <li>避免长时间佩戴隐形眼镜</li>
                                            <li>定期进行热敷按摩</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="dimension-score-item" data-dimension="fragility">
                            <div class="dimension-header" onclick="toggleDimensionDetail('fragility')">
                                <div class="dimension-title">
                                    <div class="dimension-name">脆弱度</div>
                                    <div class="score-bar-container">
                                        <div class="score-bar" style="width: 58%;">
                                            <span class="score-value">58</span>
                                        </div>
                                    </div>
                                </div>
                                <span class="material-icons toggle-icon">expand_more</span>
                            </div>
                              <div class="dimension-detail">
                                <div class="detail-content">
                                    <h4>脆弱度详细分析</h4>
                                    <div class="detail-metrics">
                                        <div class="metric-item">
                                            <div class="metric-label">角膜敏感性</div>
                                            <div class="metric-value">较高（58分）</div>
                                        </div>
                                        <div class="metric-item">
                                            <div class="metric-label">泪液分泌量</div>
                                            <div class="metric-value">偏低</div>
                                        </div>
                                        <div class="metric-item">
                                            <div class="metric-label">抗氧化能力</div>
                                            <div class="metric-value">弱</div>
                                        </div>
                                    </div>
                                    <div class="detail-suggestion">
                                        <h5>改善建议</h5>
                                        <ul>
                                            <li>补充Omega-3脂肪酸</li>
                                            <li>增加绿叶蔬菜摄入</li>
                                            <li>避免烟酒和辛辣食物</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="dimension-score-item" data-dimension="relaxation">
                            <div class="dimension-header" onclick="toggleDimensionDetail('relaxation')">
                                <div class="dimension-title">
                                    <div class="dimension-name">松弛度</div>
                                    <div class="score-bar-container">
                                        <div class="score-bar" style="width: 70%;">
                                            <span class="score-value">70</span>
                                        </div>
                                    </div>
                                </div>
                                <span class="material-icons toggle-icon">expand_more</span>
                            </div>
                            <div class="dimension-detail">
                                <div class="detail-content">
                                    <h4>松弛度详细分析</h4>
                                    <div class="detail-metrics">
                                        <div class="metric-item">
                                            <div class="metric-label">眼周弹性</div>
                                            <div class="metric-value">中等（70分）</div>
                                        </div>
                                        <div class="metric-item">
                                            <div class="metric-label">眼轮匝肌张力</div>
                                            <div class="metric-value">一般</div>
                                        </div>
                                        <div class="metric-item">
                                            <div class="metric-label">胶原蛋白密度</div>
                                            <div class="metric-value">中等</div>
                                        </div>
                                    </div>
                                    <div class="detail-suggestion">
                                        <h5>改善建议</h5>
                                        <ul>
                                            <li>每日进行眼周按摩</li>
                                            <li>使用含视黄醇的眼霜</li>
                                            <li>保持充足睡眠</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="dimension-score-item" data-dimension="aging">
                            <div class="dimension-header" onclick="toggleDimensionDetail('aging')">
                                <div class="dimension-title">
                                    <div class="dimension-name">老化度</div>
                                    <div class="score-bar-container">
                                        <div class="score-bar" style="width: 68%;">
                                            <span class="score-value">68</span>
                                        </div>
                                    </div>
                                </div>
                                <span class="material-icons toggle-icon">expand_more</span>
                            </div>
                            <div class="dimension-detail">
                                <div class="detail-content">
                                    <h4>老化度详细分析</h4>
                                    <div class="detail-metrics">
                                        <div class="metric-item">
                                            <div class="metric-label">细纹密度</div>
                                            <div class="metric-value">中等（68分）</div>
                                        </div>
                                        <div class="metric-item">
                                            <div class="metric-label">色素沉着</div>
                                            <div class="metric-value">轻度</div>
                                        </div>
                                        <div class="metric-item">
                                            <div class="metric-label">皮肤厚度</div>
                                            <div class="metric-value">正常</div>
                                        </div>
                                    </div>
                                    <div class="detail-suggestion">
                                        <h5>改善建议</h5>
                                        <ul>
                                            <li>使用防晒霜</li>
                                            <li>补充维生素C和E</li>
                                            <li>避免揉搓眼睛</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="report-actions">
                    <button class="button" onclick="navigateTo('recommendation')">查看推荐方案</button>
                    <button class="button secondary" onclick="shareReport()">分享报告</button>
                </div>
            </div>

            <!-- 推荐方案页面 -->
            <div class="page" id="recommendation">
                <div class="flow-header">
                    <div class="flow-title">个性化方案</div>
                </div>

                <div class="card">
                    <div class="section-title">问题汇总</div>
                    <div class="problem-list">
                        <div class="problem-item">
                            <div class="problem-title">干眼症状</div>
                            <div class="problem-description">轻度干眼，伴有异物感</div>
                        </div>
                        <div class="problem-item">
                            <div class="problem-title">眼疲劳</div>
                            <div class="problem-description">中度视疲劳，长时间用眼</div>
                        </div>
                        <!-- 其他问题 -->
                    </div>
                </div>

                <div class="card">
                    <div class="section-title">推荐方案</div>
                    <div class="recommendation-list">
                        <div class="recommendation-item">
                            <div class="recommendation-header">
                                <div class="recommendation-icon">
                                    <span class="material-icons">spa</span>
                                </div>
                                <div class="recommendation-info">
                                    <div class="recommendation-name">舒缓干眼护理套餐</div>
                                    <div class="recommendation-price">¥398</div>
                                </div>
                                <button class="button secondary">预约</button>
                            </div>
                            <div class="recommendation-details">
                                <div class="detail-item">
                                    <span class="material-icons">check_circle</span>
                                    <span>专业眼部按摩</span>
                                </div>
                                <div class="detail-item">
                                    <span class="material-icons">check_circle</span>
                                    <span>热敷理疗</span>
                                </div>
                                <div class="detail-item">
                                    <span class="material-icons">check_circle</span>
                                    <span>营养导入</span>
                                </div>
                            </div>
                        </div>
                        <!-- 其他推荐方案 -->
                    </div>
                </div>

                <div class="card">
                    <div class="section-title">日常建议</div>
                    <div class="advice-list">
                        <div class="advice-item">
                            <span class="material-icons">timer</span>
                            <div class="advice-content">
                                <div class="advice-title">用眼时间管理</div>
                                <div class="advice-description">每隔1小时休息10分钟，远眺放松眼部肌肉</div>
                            </div>
                        </div>
                        <!-- 其他建议 -->
                    </div>
                </div>
            </div>

            <!-- 登录页面 -->
            <div class="page" id="login-page">
                <div style="max-width: 400px; margin: 40px auto; text-align: center;">
                    <div class="profile-avatar" style="width: 80px; height: 80px; margin: 0 auto 24px;">
                        <span class="material-icons" style="font-size: 40px;">person</span>
                    </div>

                    <div class="card">
                        <div style="display: grid; gap: 16px;">
                            <div class="form-group">
                                <input type="text" id="username" placeholder="请输入用户名" class="form-input" value="admin">
                            </div>
                            <div class="form-group">
                                <input type="password" id="password" placeholder="请输入密码" class="form-input"
                                    value="123">
                            </div>
                            <div class="form-group">
                                <select id="role-select" class="form-input" onchange="changeLoginRole()">
                                    <option value="manager">店长</option>
                                    <option value="beauty">美容顾问</option>
                                </select>
                            </div>
                            <button class="button" onclick="login()">登录</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 店长的我的页面 -->
            <div class="page" id="manager-profile-page">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <span class="material-icons">person</span>
                    </div>
                    <div class="profile-info">
                        <div class="profile-name">张店长</div>
                        <div class="profile-role">角色: 店长</div>
                        <div class="profile-role">门店: 美睛美科中心店</div>
                    </div>
                </div>

                <div class="section-title">门店业绩</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-title">本月营业额</div>
                        <div class="stat-value">¥128,580</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">本月客流量</div>
                        <div class="stat-value">325</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">本月新客</div>
                        <div class="stat-value">86</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">客单价</div>
                        <div class="stat-value">¥395</div>
                    </div>
                </div>

                <div class="section-title">今日数据</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-title">今日营业额</div>
                        <div class="stat-value">¥12,580</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title">今日客流</div>
                        <div class="stat-value">35</div>
                    </div>
                </div>

                <div class="section-title">功能中心</div>
                <div class="function-grid">
                    <div class="function-item" onclick="navigateTo('store-management')">
                        <div class="function-icon">
                            <span class="material-icons">store</span>
                        </div>
                        <div class="function-name">门店管理</div>
                    </div>
                    <div class="function-item" onclick="navigateTo('employee-management')">
                        <div class="function-icon">
                            <span class="material-icons">groups</span>
                        </div>
                        <div class="function-name">员工管理</div>
                    </div>
                    <div class="function-item" onclick="navigateTo('detection-history')">
                        <div class="function-icon">
                            <span class="material-icons">visibility</span>
                        </div>
                        <div class="function-name">检测记录</div>
                    </div>
                    <div class="function-item" onclick="navigateTo('customers-page')">
                        <div class="function-icon">
                            <span class="material-icons">people</span>
                        </div>
                        <div class="function-name">客户管理</div>
                    </div>
                    <div class="function-item disabled" data-tooltip="暂不实现">
                        <div class="function-icon">
                            <span class="material-icons">school</span>
                        </div>
                        <div class="function-name">知识学习</div>
                    </div>
                    <div class="function-item disabled" data-tooltip="暂不实现">
                        <div class="function-icon">
                            <span class="material-icons">help</span>
                        </div>
                        <div class="function-name">帮助中心</div>
                    </div>
                </div>

                <div style="display: flex; gap: 16px; margin-top: 24px;">
                    <button class="button danger" style="flex: 1;" onclick="logout()">退出登录</button>
                </div>
            </div>

            <!-- 店长-检测记录页面 -->
            <div class="page" id="detection-history">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <div class="section-title">检测记录</div>
                    <div class="customer-filter">
                        <div class="filter-item active" onclick="filterDetectionHistory('all')">全部</div>
                        <div class="filter-item" onclick="filterDetectionHistory('today')">今日</div>
                        <div class="filter-item" onclick="filterDetectionHistory('week')">7天</div>
                        <div class="filter-item" onclick="filterDetectionHistory('month')">30天</div>
                    </div>
                </div>

                <div class="card">
                    <div style="display: grid; gap: 16px;">
                        <div style="background-color: #F5F5F5; border-radius: var(--border-radius); padding: 16px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <div style="font-weight: 500;">陈先生</div>
                                <div style="color: var(--text-secondary);">2025-03-15 14:30</div>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="color: var(--text-secondary); margin-bottom: 4px;">检测顾问：李美容</div>
                                    <div style="color: var(--text-secondary);">综合评分：78分</div>
                                </div>
                                <button class="button secondary" onclick="navigateTo('detection-result')">查看详情</button>
                            </div>
                        </div>
                        <!-- 更多检测记录 -->
                    </div>
                </div>
            </div>

            <!-- 店长-员工管理页面 -->
            <div class="page" id="employee-management">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                    <div class="section-title">员工管理</div>
                    <button class="button" onclick="showAddEmployeeModal()">
                        <span class="material-icons">add</span>
                        添加员工
                    </button>
                </div>

                <div class="card">
                    <div style="display: grid; gap: 16px;">
                        <div style="background-color: #F5F5F5; border-radius: var(--border-radius); padding: 16px;">
                            <div
                                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div class="profile-avatar" style="width: 48px; height: 48px;">
                                        <span class="material-icons">person</span>
                                    </div>
                                    <div>
                                        <div style="font-weight: 500;">李美容</div>
                                        <div style="color: var(--text-secondary);">美容顾问</div>
                                    </div>
                                </div>
                                <div>
                                    <button class="button secondary" onclick="editEmployee(1)">编辑</button>
                                </div>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">
                                <div>
                                    <div style="color: var(--text-secondary);">本月业绩</div>
                                    <div style="font-weight: 500;">¥12,580</div>
                                </div>
                                <div>
                                    <div style="color: var(--text-secondary);">本月检测</div>
                                    <div style="font-weight: 500;">45次</div>
                                </div>
                                <div>
                                    <div style="color: var(--text-secondary);">转化率</div>
                                    <div style="font-weight: 500;">60%</div>
                                </div>
                            </div>
                        </div>
                        <!-- 更多员工信息 -->
                    </div>
                </div>
            </div>

            <!-- 店长-门店管理页面 -->
            <div class="page" id="store-management">
                <div class="section-title">门店信息</div>
                <div class="card">
                    <div style="display: grid; gap: 16px;">
                        <div class="form-group">
                            <label>门店名称</label>
                            <input type="text" class="form-input" value="美睛美科中心店" id="store-name">
                        </div>
                        <div class="form-group">
                            <label>门店地址</label>
                            <input type="text" class="form-input" value="北京市朝阳区三里屯SOHO" id="store-address">
                        </div>
                        <div class="form-group">
                            <label>联系电话</label>
                            <input type="tel" class="form-input" value="010-88888888" id="store-phone">
                        </div>
                        <div class="form-group">
                            <label>营业时间</label>
                            <input type="text" class="form-input" value="10:00-22:00" id="store-hours">
                        </div>
                    </div>
                </div>

                <div class="section-title">门店照片</div>
                <div class="card">
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">
                        <div style="position: relative;">
                            <img src="images/store/Store.png" alt="门店照片"
                                style="width: 100%; border-radius: var(--border-radius);">
                            <button class="icon-button"
                                style="position: absolute; top: 8px; right: 8px; background: rgba(0,0,0,0.5);"
                                onclick="deleteStoreImage(1)">
                                <span class="material-icons" style="color: white;">delete</span>
                            </button>
                        </div>
                        <div style="position: relative;">
                            <img src="images/store/Store2.png" alt="门店照片"
                                style="width: 100%; border-radius: var(--border-radius);">
                            <button class="icon-button"
                                style="position: absolute; top: 8px; right: 8px; background: rgba(0,0,0,0.5);"
                                onclick="deleteStoreImage(2)">
                                <span class="material-icons" style="color: white;">delete</span>
                            </button>
                        </div>
                        <div onclick="uploadStoreImage()"
                            style="border: 2px dashed #E0E0E0; border-radius: var(--border-radius); display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 24px; cursor: pointer;">
                            <span class="material-icons"
                                style="font-size: 32px; color: var(--text-secondary);">add_photo_alternate</span>
                            <div style="color: var(--text-secondary); margin-top: 8px;">上传照片</div>
                        </div>
                    </div>
                </div>

                <div class="section-title">地理位置</div>
                <div class="card">
                    <div id="store-map"
                        style="height: 300px; border-radius: var(--border-radius); background-color: #F5F5F5; margin-bottom: 16px;">
                        <!-- 这里将嵌入地图，使用实际地图API时替换 -->
                        <img src="images/store/store_location_map.jpg"
                            style="width: 100%; height: 100%; object-fit: cover; border-radius: var(--border-radius);">
                    </div>
                    <button class="button" onclick="saveStoreInfo()">保存修改</button>
                </div>
            </div>

            <!-- 添加员工对话框 -->
            <div class="modal-overlay" id="add-employee-modal">
                <div class="modal-content">
                    <div class="modal-title">添加员工</div>
                    <div style="display: grid; gap: 16px;">
                        <div class="form-group">
                            <label>姓名</label>
                            <input type="text" class="form-input" placeholder="请输入员工姓名">
                        </div>
                        <div class="form-group">
                            <label>角色</label>
                            <select class="form-input">
                                <option value="beauty">美容顾问</option>
                                <option value="manager">店长</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>手机号</label>
                            <input type="tel" class="form-input" placeholder="请输入手机号">
                        </div>
                        <div class="form-group">
                            <label>入职日期</label>
                            <input type="date" class="form-input">
                        </div>
                        <div style="display: flex; gap: 16px;">
                            <button class="button secondary" style="flex: 1;"
                                onclick="closeAddEmployeeModal()">取消</button>
                            <button class="button" style="flex: 1;" onclick="submitAddEmployee()">确定</button>
                        </div>
                    </div>
                </div>
            </div>


            <div class="bottom-nav">
                <div class="nav-item active" onclick="navigateTo('home-page')">
                    <span class="material-icons nav-item-icon">home</span>
                    <span class="nav-item-label">首页</span>
                </div>
                <div class="nav-item" onclick="navigateTo('services-page')">
                    <span class="material-icons nav-item-icon">spa</span>
                    <span class="nav-item-label">服务</span>
                </div>
                <div class="nav-item" onclick="navigateTo('detection-page')">
                    <span class="material-icons nav-item-icon">visibility</span>
                    <span class="nav-item-label">检测</span>
                </div>
                <div class="nav-item" onclick="navigateTo('detection-report')">
                    <span class="material-icons nav-item-icon">description</span>
                    <span class="nav-item-label">报告</span>
                </div>
                <div class="nav-item" onclick="navigateTo('profile-page')">
                    <span class="material-icons nav-item-icon">person</span>
                    <span class="nav-item-label">我的</span>
                </div>
            </div>

            <script>
                // 页面导航
                function navigateTo(pageId) {
                    // 如果未登录且尝试访问需要登录的页面，则跳转到登录页
                    if (!currentUser && pageId !== 'login-page') {
                        pageId = 'login-page';
                    }

                    // 处理"我的"页面的特殊逻辑
                    if (pageId === 'profile-page') {
                        // 根据当前角色决定显示哪个"我的"页面
                        pageId = currentRole === 'manager' ? 'manager-profile-page' : 'profile-page';
                    }

                    // 隐藏所有页面
                    document.querySelectorAll('.page').forEach(page => {
                        page.classList.remove('active');
                    });

                    // 显示目标页面
                    document.getElementById(pageId).classList.add('active');

                    // 更新底部导航栏状态
                    document.querySelectorAll('.nav-item').forEach(item => {
                        item.classList.remove('active');
                    });

                    // 根据页面ID更新底部导航栏
                    if (pageId === 'home-page') {
                        document.querySelectorAll('.nav-item')[0].classList.add('active');
                    } else if (pageId === 'services-page' || pageId === 'service-detail') {
                        document.querySelectorAll('.nav-item')[1].classList.add('active');
                    } else if (pageId === 'detection-page' || pageId === 'detection-customer' ||
                        pageId === 'detection-questionnaire' || pageId === 'detection-camera' ||
                        pageId === 'detection-result' || pageId === 'dimension-detail') {
                        document.querySelectorAll('.nav-item')[2].classList.add('active');
                    } else if (pageId === 'detection-report') {
                        document.querySelectorAll('.nav-item')[3].classList.add('active');
                    } else if (pageId === 'profile-page' || pageId === 'manager-profile-page') {
                        document.querySelectorAll('.nav-item')[4].classList.add('active');
                    }

                    // 滚动到顶部
                    document.querySelector('.content-area').scrollTop = 0;
                }

                // 开始检测流程
                function startDetection(type) {
                    // 设置当前检测的患者数据
                    window.currentPatient = getPatientData();
                    
                    if (type === 'new') {
                        navigateTo('detection-customer');
                    } else {
                        navigateTo('detection-questionnaire');
                    }
                }

                // 选择问卷选项
                function selectOption(element) {
                    // 移除同级元素的选中状态
                    const options = element.parentElement.querySelectorAll('.option-item');
                    options.forEach(option => {
                        option.classList.remove('selected');
                    });

                    // 添加选中状态
                    element.classList.add('selected');
                }

                // 显示角色切换对话框
                function showRoleSwitchModal() {
                    document.getElementById('role-switch-modal').classList.add('active');
                }

                // 关闭角色切换对话框
                function closeRoleSwitchModal() {
                    document.getElementById('role-switch-modal').classList.remove('active');
                }

                // 切换角色
                function switchRole(role) {
                    closeRoleSwitchModal();
                    // 清空当前登录状态
                    currentRole = '';
                    currentUser = null;
                    // 跳转到登录页面
                    navigateTo('login-page');
                }

                // 退出登录
                function logout() {
                    // 清空登录状态
                    currentRole = '';
                    currentUser = null;
                    document.getElementById('username').value = 'test';
                    document.getElementById('password').value = 'test';
                    // 跳转到登录页面
                    navigateTo('login-page');
                }

                // 选择登录角色
                function selectLoginRole(element, role) {
                    // 移除其他角色的选中状态
                    document.querySelectorAll('.role-option').forEach(option => {
                        option.classList.remove('selected');
                    });
                    // 添加选中状态
                    element.classList.add('selected');
                }

                // 全局变量 - 登录状态
                let currentRole = ''; // 'beauty' 或 'manager'
                let currentUser = null; // 当前登录用户信息

                // 登录
                function login() {
                    const username = document.getElementById('username').value;
                    const password = document.getElementById('password').value;
                    const role = document.getElementById('role-select').value;

                    if (role === 'beauty' && username === 'test' && password === 'test') {
                        // 美容顾问登录
                        currentRole = 'beauty';
                        currentUser = {
                            name: '李美容',
                            role: '美容顾问',
                            store: '美睛美科中心店'
                        };
                        navigateTo('profile-page');
                    } else if (role === 'manager' && username === 'admin' && password === '123') {
                        // 店长登录
                        currentRole = 'manager';
                        currentUser = {
                            name: '张店长',
                            role: '店长',
                            store: '美睛美科中心店'
                        };
                        navigateTo('manager-profile-page');
                    } else {
                        alert('用户名或密码错误');
                    }
                }

                // 筛选检测历史
                function filterHistory(period) {
                    alert(`筛选${period}的检测记录`);
                    // 筛选逻辑
                }


                // 调整为横屏布局
                function adjustForLandscape() {
                    const style = document.createElement('style');
                    style.textContent = `
                    @media screen and (min-width: 1200px) {
                        .app-container {
                            flex-direction: row;
                        }
                        
                        .content-area {
                            padding-bottom: var(--spacing);
                            margin-left: 80px;
                        }
                        
                        .bottom-nav {
                            position: fixed;
                            left: 0;
                            top: 0;
                            bottom: 0;
                            width: 80px;
                            height: 100vh;
                            flex-direction: column;
                        }
                        
                        .nav-item {
                            height: auto;
                            padding: 16px 0;
                        }
                        
                        .service-grid {
                            grid-template-columns: repeat(4, 1fr);
                        }
                        
                        .case-grid {
                            grid-template-columns: repeat(3, 1fr);
                        }
                        
                        .customer-grid {
                            grid-template-columns: repeat(3, 1fr);
                        }
                        
                        .function-grid {
                            grid-template-columns: repeat(4, 1fr);
                        }
                        
                        .detail-grid {
                            grid-template-columns: 1fr 2fr;
                        }
                        
                        /* 检测流程页面的横屏优化 */
                        .detection-flow-container {
                            display: flex;
                        }
                        
                        .detection-flow-sidebar {
                            width: 300px;
                            margin-right: 24px;
                        }
                        
                        .detection-flow-content {
                            flex: 1;
                        }
                        
                        /* 结果展示页面的横屏优化 */
                        .result-container {
                            display: flex;
                        }
                        
                        .result-chart {
                            width: 50%;
                            margin-right: 24px;
                        }
                        
                        .result-details {
                            width: 50%;
                        }
                    }
                `;

                    // 移除旧样式
                    const oldStyle = document.getElementById('landscape-style');
                    if (oldStyle) {
                        oldStyle.remove();
                    }

                    // 添加新样式
                    style.id = 'landscape-style';
                    document.head.appendChild(style);
                }

                // 问卷相关函数
                let currentQuestion = 1;
                const totalQuestions = 9;

                let questionAnswers = new Array(totalQuestions).fill(null); // 存储答案

                function showQuestion(questionNumber) {
                    // 隐藏所有问题
                    for (let i = 1; i <= totalQuestions; i++) {
                        document.getElementById(`question-${i}`).style.display = 'none';
                    }
                    // 显示当前问题
                    document.getElementById(`question-${questionNumber}`).style.display = 'block';

                    // 如果是第一题，禁用"上一题"按钮
                    const prevButton = document.querySelector('.flow-actions .button.secondary');
                    if (prevButton) {
                        prevButton.disabled = questionNumber === 1;
                    }
                }

                function selectOption(element) {
                    // 移除同级元素的选中状态
                    const options = element.parentElement.querySelectorAll('.option-item');
                    options.forEach(option => {
                        option.classList.remove('selected');
                    });

                    // 添加选中状态
                    element.classList.add('selected');

                    // 保存答案
                    questionAnswers[currentQuestion - 1] = element.querySelector('.option-label').textContent;

                    // 延迟一小段时间后自动跳转到下一题
                    setTimeout(() => {
                        if (currentQuestion < totalQuestions) {
                            currentQuestion++;
                            showQuestion(currentQuestion);
                        } else {
                            // 问卷完成，进入下一步
                            navigateTo('detection-camera');
                        }
                    }, 500); // 500ms 延迟，让用户能看到选中效果
                }


                function previousQuestion() {
                    if (currentQuestion > 1) {
                        currentQuestion--;
                        showQuestion(currentQuestion);

                        // 恢复之前的选择（如果有）
                        const previousAnswer = questionAnswers[currentQuestion - 1];
                        if (previousAnswer) {
                            const options = document.querySelectorAll(`#question-${currentQuestion} .option-item`);
                            options.forEach(option => {
                                if (option.querySelector('.option-label').textContent === previousAnswer) {
                                    option.classList.add('selected');
                                }
                            });
                        }
                    }
                }


                // 性别选择
                function selectGender(element, gender) {
                    const items = element.parentElement.querySelectorAll('.radio-item');
                    items.forEach(item => item.classList.remove('selected'));
                    element.classList.add('selected');
                }

                // 用眼时长选择
                function selectEyeTime(element) {
                    const items = element.parentElement.querySelectorAll('.radio-item');
                    items.forEach(item => item.classList.remove('selected'));
                    element.classList.add('selected');
                }

                // 多选框切换
                function toggleCheckbox(element) {
                    element.classList.toggle('selected');
                }

                // 开始新客户检测
                function startNewCustomerDetection() {
                    // 这里可以添加表单验证逻辑
                    navigateTo('detection-questionnaire');
                }

                // 保存客户信息
                function saveCustomerInfo() {
                    // 这里可以添加保存信息的逻辑
                    alert('客户信息已保存');
                    navigateTo('detection-customer');
                }

                // 检测记录筛选
                function filterDetectionHistory(period) {
                    const filters = document.querySelectorAll('.customer-filter .filter-item');
                    filters.forEach(filter => filter.classList.remove('active'));
                    event.target.classList.add('active');
                    // 这里添加筛选逻辑
                }

                // 员工管理相关函数
                function showAddEmployeeModal() {
                    document.getElementById('add-employee-modal').classList.add('active');
                }

                function closeAddEmployeeModal() {
                    document.getElementById('add-employee-modal').classList.remove('active');
                }

                function submitAddEmployee() {
                    // 这里添加提交逻辑
                    closeAddEmployeeModal();
                    alert('添加员工成功');
                }

                function editEmployee(id) {
                    // 这里添加编辑逻辑
                    alert('编辑员工信息');
                }

                // 门店管理相关函数
                function uploadStoreImage() {
                    // 这里添加上传逻辑
                    alert('上传门店照片');
                }

                function deleteStoreImage(id) {
                    // 这里添加删除逻辑
                    alert('删除门店照片');
                }

                function saveStoreInfo() {
                    // 这里添加保存逻辑
                    alert('保存门店信息成功');
                }

                // 头像上传预览
                document.getElementById('avatar-upload')?.addEventListener('change', function (e) {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function (e) {
                            const avatar = document.querySelector('.profile-avatar');
                            avatar.innerHTML = `<img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">`;
                        }
                        reader.readAsDataURL(file);
                    }
                });

                // 分享报告
                function shareReport() {
                    alert('报告分享功能即将上线');
                }


                // 导航历史记录
                let navigationHistory = [];
                let currentPageId = 'home-page';

                // 修改页面导航函数
                function navigateTo(pageId, addToHistory = true) {
                    // 如果未登录且尝试访问需要登录的页面，则跳转到登录页
                    if (!currentUser && pageId !== 'login-page') {
                        pageId = 'login-page';
                        addToHistory = false; // 不将登录页添加到历史记录
                    }

                    // 处理"我的"页面的特殊逻辑
                    if (pageId === 'profile-page') {
                        // 根据当前角色决定显示哪个"我的"页面
                        pageId = currentRole === 'manager' ? 'manager-profile-page' : 'profile-page';
                    }

                    // 如果需要添加到历史记录
                    if (addToHistory && currentPageId !== pageId) {
                        navigationHistory.push(currentPageId);
                    }

                    // 更新当前页面ID
                    currentPageId = pageId;

                    // 隐藏所有页面
                    document.querySelectorAll('.page').forEach(page => {
                        page.classList.remove('active');
                    });

                    // 显示目标页面
                    document.getElementById(pageId).classList.add('active');

                    // 更新底部导航栏状态
                    document.querySelectorAll('.nav-item').forEach(item => {
                        item.classList.remove('active');
                    });

                    // 根据页面ID更新底部导航栏
                    if (pageId === 'home-page') {
                        document.querySelectorAll('.nav-item')[0].classList.add('active');
                    } else if (pageId === 'services-page' || pageId === 'service-detail') {
                        document.querySelectorAll('.nav-item')[1].classList.add('active');
                    } else if (pageId === 'detection-page' || pageId === 'detection-customer' ||
                        pageId === 'detection-questionnaire' || pageId === 'detection-camera' ||
                        pageId === 'detection-result' || pageId === 'dimension-detail') {
                        document.querySelectorAll('.nav-item')[2].classList.add('active');
                    } else if (pageId === 'detection-report' || pageId === 'detection-detail') {
                        document.querySelectorAll('.nav-item')[3].classList.add('active');
                    } else if (pageId === 'profile-page' || pageId === 'manager-profile-page') {
                        document.querySelectorAll('.nav-item')[4].classList.add('active');
                    }

                    // 更新页面标题和返回按钮
                    updatePageHeader(pageId);

                    // 滚动到顶部
                    document.querySelector('.content-area').scrollTop = 0;

                    // 更新面包屑导航
                    updateBreadcrumb(pageId);
                }

                // 返回上一页
                function goBack() {
                    if (navigationHistory.length > 0) {
                        const previousPage = navigationHistory.pop();
                        navigateTo(previousPage, false); // 不将返回操作添加到历史记录
                    } else {
                        // 如果没有历史记录，返回首页
                        navigateTo('home-page', false);
                    }
                }

                // 更新页面标题和返回按钮
                function updatePageHeader(pageId) {
                    // 页面标题映射
                    const pageTitles = {
                        'home-page': '首页',
                        'services-page': '服务项目',
                        'service-detail': '服务详情',
                        'detection-page': '眼部检测',
                        'detection-customer': '客户信息',
                        'detection-questionnaire': '问卷调查',
                        'detection-camera': '拍摄检测',
                        'detection-result': '检测结果',
                        'detection-report': '检测报告',
                        'detection-detail': '检测详情',
                        'recommendation': '推荐方案',
                        'dimension-detail': '维度详情',
                        'profile-page': '个人中心',
                        'manager-profile-page': '管理中心',
                        'detection-records': '检测记录',
                        'employee-management': '员工管理',
                        'store-management': '门店管理',
                        'login-page': '登录'
                    };

                    // 获取所有页面标题元素
                    document.querySelectorAll('.page-header').forEach(header => {
                        // 获取标题元素
                        const titleElement = header.querySelector('.page-title');
                        if (titleElement) {
                            // 设置标题文本
                            titleElement.textContent = pageTitles[pageId] || '美睛美科';
                        }

                        // 获取返回按钮
                        const backButton = header.querySelector('.back-button');
                        if (backButton) {
                            // 根据历史记录决定是否显示返回按钮
                            backButton.style.visibility = navigationHistory.length > 0 ? 'visible' : 'hidden';
                        }
                    });
                }

                // 更新面包屑导航
                function updateBreadcrumb(pageId) {
                    // 页面层级映射
                    const pageHierarchy = {
                        'home-page': ['首页'],
                        'services-page': ['首页', '服务项目'],
                        'service-detail': ['首页', '服务项目', '服务详情'],
                        'detection-page': ['首页', '眼部检测'],
                        'detection-customer': ['首页', '眼部检测', '客户信息'],
                        'detection-questionnaire': ['首页', '眼部检测', '问卷调查'],
                        'detection-camera': ['首页', '眼部检测', '拍摄检测'],
                        'detection-result': ['首页', '眼部检测', '检测结果'],
                        'detection-report': ['首页', '检测报告'],
                        'detection-detail': ['首页', '检测报告', '检测详情'],
                        'recommendation': ['首页', '检测报告', '推荐方案'],
                        'dimension-detail': ['首页', '眼部检测', '维度详情'],
                        'profile-page': ['首页', '个人中心'],
                        'manager-profile-page': ['首页', '管理中心'],
                        'detection-records': ['首页', '管理中心', '检测记录'],
                        'employee-management': ['首页', '管理中心', '员工管理'],
                        'store-management': ['首页', '管理中心', '门店管理'],
                        'login-page': ['登录']
                    };

                    // 获取所有面包屑导航元素
                    document.querySelectorAll('.breadcrumb').forEach(breadcrumb => {
                        // 清空现有内容
                        breadcrumb.innerHTML = '';

                        // 获取当前页面的层级
                        const hierarchy = pageHierarchy[pageId] || ['首页'];

                        // 创建面包屑项
                        hierarchy.forEach((title, index) => {
                            const item = document.createElement('div');
                            item.className = 'breadcrumb-item';

                            if (index < hierarchy.length - 1) {
                                // 非最后一项，可点击
                                const link = document.createElement('a');
                                link.href = 'javascript:void(0)';
                                link.textContent = title;

                                // 根据标题确定要导航到的页面
                                let targetPage = 'home-page';
                                if (title === '服务项目') targetPage = 'services-page';
                                else if (title === '眼部检测') targetPage = 'detection-page';
                                else if (title === '检测报告') targetPage = 'detection-report';
                                else if (title === '个人中心') targetPage = 'profile-page';
                                else if (title === '管理中心') targetPage = 'manager-profile-page';

                                link.onclick = function () {
                                    navigateTo(targetPage);
                                };

                                item.appendChild(link);
                            } else {
                                // 最后一项，不可点击
                                item.textContent = title;
                            }

                            breadcrumb.appendChild(item);
                        });
                    });
                }

                // 初始化滑动返回功能
                function initSwipeBack() {
                    const swipeArea = document.createElement('div');
                    swipeArea.className = 'swipe-area';
                    document.body.appendChild(swipeArea);

                    let startX = 0;
                    let startTime = 0;

                    swipeArea.addEventListener('touchstart', function (e) {
                        startX = e.touches[0].clientX;
                        startTime = Date.now();
                    });

                    swipeArea.addEventListener('touchend', function (e) {
                        const endX = e.changedTouches[0].clientX;
                        const endTime = Date.now();

                        // 如果是从左向右滑动，且滑动距离和速度满足条件
                        if (endX - startX > 70 && endTime - startTime < 300) {
                            goBack();
                        }
                    });
                }

                // 页面加载完成后初始化
                document.addEventListener('DOMContentLoaded', function () {
                    // 初始化滑动返回功能
                    initSwipeBack();

                    // 初始化轮播图
                    updateCarousel();
                    startCarouselAutoplay();

                    // 为指示器添加点击事件
                    document.querySelectorAll('.indicator').forEach((indicator, index) => {
                        indicator.addEventListener('click', () => {
                            goToSlide(index);
                            stopCarouselAutoplay();
                            startCarouselAutoplay();
                        });
                    });

                    // 鼠标悬停时暂停自动轮播
                    const carousel = document.querySelector('.campaign-carousel');
                    if (carousel) {
                        carousel.addEventListener('mouseenter', stopCarouselAutoplay);
                        carousel.addEventListener('mouseleave', startCarouselAutoplay);
                    }

                    // 更新页面层级映射，添加活动详情页
                    pageHierarchy['campaign-detail-1'] = ['首页', '门店活动', '明眸焕新计划'];
                    pageHierarchy['campaign-detail-2'] = ['首页', '门店活动', '端午护眼"粽"动员'];
                    pageHierarchy['campaign-detail-3'] = ['首页', '门店活动', '以老带新，明眸双倍礼'];
                    pageHierarchy['campaign-detail-4'] = ['首页', '门店活动', '全民护眼课堂'];


                    // 添加服务案例详情页到页面层级映射
                    pageHierarchy['case-detail-1'] = ['首页', '服务案例', '干眼症综合改善方案'];
                    pageHierarchy['case-detail-2'] = ['首页', '服务案例', '眼袋消除年轻化方案'];
                    pageHierarchy['case-detail-3'] = ['首页', '服务案例', '混合型黑眼圈综合干预方案'];


                    // 初始化页面标题和返回按钮
                    updatePageHeader(currentPageId);

                    // 初始化面包屑导航
                    updateBreadcrumb(currentPageId);

                    // 初始化雷达图
                    initRadarChart('eyeRadarChart');
                    initRadarChart('detectionRadarChart');

                    // 初始化检测报告和检测结果
                    updateDetectionReport();
                    updateDetectionResult();

                    // 为维度项添加点击事件
                    document.querySelectorAll('.dimension-item.expandable').forEach(item => {
                        const dimensionId = item.getAttribute('data-dimension');
                        item.querySelector('.dimension-header').addEventListener('click', function () {
                            toggleDimensionDetail(dimensionId);
                        });
                    });

                    // 默认展开第一个维度
                    document.querySelector('[data-dimension="fatigue"]')?.classList.add('active');

                    // 窗口大小变化时重绘雷达图
                    window.addEventListener('resize', function () {
                        const eyeRadarChart = echarts.getInstanceByDom(document.getElementById('eyeRadarChart'));
                        const detectionRadarChart = echarts.getInstanceByDom(document.getElementById('detectionRadarChart'));
                        
                        if (eyeRadarChart) eyeRadarChart.resize();
                        if (detectionRadarChart) detectionRadarChart.resize();
                    });

                    // 初始化维度分析组件
                    const analysis = new DimensionAnalysis('dimensionAnalysis', getPatientData().analysisData);

                    // 为底部导航栏的"我的"按钮添加特殊处理
                    const profileNavItem = document.querySelectorAll('.nav-item')[4];
                    profileNavItem.onclick = function () {
                        if (!currentUser) {
                            navigateTo('login-page');
                        } else {
                            navigateTo(currentRole === 'manager' ? 'manager-profile-page' : 'profile-page');
                        }
                    };
                });

                // 轮播图相关函数
                let currentSlide = 0;
                const totalSlides = 4;

                function moveCarousel(direction) {
                    currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
                    updateCarousel();
                }

                function goToSlide(index) {
                    currentSlide = index;
                    updateCarousel();
                }

                function updateCarousel() {
                    const wrapper = document.querySelector('.carousel-wrapper');
                    wrapper.style.transform = `translateX(-${currentSlide * 100}%)`;

                    // 更新指示器
                    document.querySelectorAll('.indicator').forEach((indicator, index) => {
                        indicator.classList.toggle('active', index === currentSlide);
                    });
                }

                // 自动轮播
                let carouselInterval;

                function startCarouselAutoplay() {
                    carouselInterval = setInterval(() => {
                        moveCarousel(1);
                    }, 5000); // 5秒切换一次
                }

                function stopCarouselAutoplay() {
                    clearInterval(carouselInterval);
                }

                // 活动分享和预约函数
                function shareCampaign() {
                    alert('活动分享功能即将上线，敬请期待！');
                }

                function makeAppointment() {
                    alert('预约成功！我们的客服将尽快与您联系确认详情。');
                }

                // 获取患者数据（统一数据源）
                function getPatientData() {
                    // 陈先生的数据
                    return {
                        name: '陈先生',
                        age: 35,
                        gender: '男',
                        occupation: '互联网从业者',
                        lastCheckDate: '2023-05-15',
                        dimensionData: [
                            { name: '疲劳度', currentScore: 65, targetScore: 85, color: '#4CAF50' },
                            { name: '浑浊度', currentScore: 72, targetScore: 90, color: '#2196F3' },
                            { name: '脆弱度', currentScore: 58, targetScore: 80, color: '#9C27B0' },
                            { name: '松弛度', currentScore: 70, targetScore: 88, color: '#FFC107' },
                            { name: '老化度', currentScore: 68, targetScore: 85, color: '#FF5722' }
                        ],
                        // AI图像检测结果
                        imageAnalysis: {
                            leftEye: {
                                imagePath: 'images/detection-report/left-eye.jpg',
                                findings: [
                                    { name: '结膜充血', level: '轻度', score: 72 },
                                    { name: '角膜透明度', level: '良好', score: 85 },
                                    { name: '泪膜稳定性', level: '一般', score: 68 }
                                ]
                            },
                            rightEye: {
                                imagePath: 'images/detection-report/right-eye.jpg',
                                findings: [
                                    { name: '结膜充血', level: '轻度', score: 75 },
                                    { name: '角膜透明度', level: '良好', score: 82 },
                                    { name: '泪膜稳定性', level: '一般', score: 70 }
                                ]
                            },
                            eyeArea: {
                                imagePath: 'images/detection-report/eye-area.jpg',
                                findings: [
                                    { name: '眼周皱纹', level: '轻度', score: 78 },
                                    { name: '眼袋', level: '轻微', score: 82 },
                                    { name: '黑眼圈', level: '中度', score: 65 }
                                ]
                            }
                        },
                        // 问卷结果
                        questionnaire: [
                            { 
                                question: '眼部不适症状', 
                                answer: '偶尔有干涩感', 
                                analysis: '轻度干眼症状' 
                            },
                            { 
                                question: '每日用眼时长', 
                                answer: '8-12小时', 
                                analysis: '用眼时间过长，易导致视疲劳' 
                            },
                            { 
                                question: '眼部疲劳感频率', 
                                answer: '经常（每周3-5次）', 
                                analysis: '中度视疲劳，需要注意休息' 
                            },
                            { 
                                question: '眼睛干涩程度', 
                                answer: '中度干涩，有时需要使用眼药水', 
                                analysis: '泪液分泌不足，建议补充人工泪液' 
                            },
                            { 
                                question: '眼部护理习惯', 
                                answer: '偶尔进行，不够规律', 
                                analysis: '护理意识有待提高，建议建立日常护理习惯' 
                            },
                            { 
                                question: '睡眠质量评估', 
                                answer: '一般，有时会失眠', 
                                analysis: '睡眠不足影响眼部恢复，建议改善睡眠环境' 
                            },
                            { 
                                question: '用眼环境光线', 
                                answer: '光线偏暗，常在昏暗环境下用眼', 
                                analysis: '不良光线环境增加眼部负担，建议调整照明' 
                            },
                            { 
                                question: '眼部不适缓解方式', 
                                answer: '主要依赖眼药水', 
                                analysis: '缺乏多样化的缓解方式，建议学习眼部按摩和热敷' 
                            },
                            { 
                                question: '眼部保健意识', 
                                answer: '有一定意识，但执行不够到位', 
                                analysis: '需要加强保健知识学习和习惯养成' 
                            }
                        ],
                        analysisData: {
                            dimensions: [
                                {
                                    name: '疲劳度',
                                    currentScore: 65,
                                    targetScore: 85,
                                    details: {
                                        metrics: [
                                            { label: '视疲劳指数', value: '中度（65分）' },
                                            { label: '用眼负荷', value: '过重' },
                                            { label: '恢复能力', value: '一般' }
                                        ],
                                        suggestions: [
                                            '每隔45分钟建议休息5分钟',
                                            '注意调整屏幕亮度和距离',
                                            '可以进行眼部按摩和热敷'
                                        ]
                                    }
                                },
                                {
                                    name: '浑浊度',
                                    currentScore: 72,
                                    targetScore: 90,
                                    details: {
                                        metrics: [
                                            { label: '角膜透明度', value: '良好（72分）' },
                                            { label: '泪膜稳定性', value: '一般' },
                                            { label: '结膜充血', value: '轻度' }
                                        ],
                                        suggestions: [
                                            '使用无防腐剂人工泪液',
                                            '避免长时间佩戴隐形眼镜',
                                            '定期进行热敷按摩'
                                        ]
                                    }
                                },
                                {
                                    name: '脆弱度',
                                    currentScore: 58,
                                    targetScore: 80,
                                    details: {
                                        metrics: [
                                            { label: '角膜敏感性', value: '较高（58分）' },
                                            { label: '泪液分泌量', value: '偏低' },
                                            { label: '抗氧化能力', value: '弱' }
                                        ],
                                        suggestions: [
                                            '补充Omega-3脂肪酸',
                                            '增加绿叶蔬菜摄入',
                                            '避免烟酒和辛辣食物'
                                        ]
                                    }
                                },
                                {
                                    name: '松弛度',
                                    currentScore: 70,
                                    targetScore: 88,
                                    details: {
                                        metrics: [
                                            { label: '眼周弹性', value: '中等（70分）' },
                                            { label: '眼轮匝肌张力', value: '一般' },
                                            { label: '胶原蛋白密度', value: '中等' }
                                        ],
                                        suggestions: [
                                            '每日进行眼周按摩',
                                            '使用含视黄醇的眼霜',
                                            '保持充足睡眠'
                                        ]
                                    }
                                },
                                {
                                    name: '老化度',
                                    currentScore: 68,
                                    targetScore: 85,
                                    details: {
                                        metrics: [
                                            { label: '细纹密度', value: '中等（68分）' },
                                            { label: '色素沉着', value: '轻度' },
                                            { label: '皮肤厚度', value: '正常' }
                                        ],
                                        suggestions: [
                                            '使用防晒霜',
                                            '补充维生素C和E',
                                            '避免揉搓眼睛'
                                        ]
                                    }
                                }
                            ]
                        }
                    };
                }

                // 统一的雷达图初始化函数
                function initRadarChart(chartId) {
                    const chartDom = document.getElementById(chartId);
                    if (!chartDom) {
                        console.error(`找不到雷达图容器: ${chartId}`);
                        return;
                    }

                    // 初始化ECharts实例
                    const myChart = echarts.init(chartDom);
                    
                    // 获取患者数据
                    const patientData = getPatientData();
                    const dimensionData = patientData.dimensionData;

                    // 准备雷达图指标数据
                    const indicators = dimensionData.map(item => {
                        return { name: item.name, max: 100 };
                    });

                    // 准备系列数据
                    const currentValues = dimensionData.map(item => item.currentScore);
                    const targetValues = dimensionData.map(item => item.targetScore);

                    // 配置项
                    const option = {
                        title: {
                            text: '眼部健康状态评估',
                            left: 'center',
                            textStyle: {
                                fontSize: 16,
                                color: '#333333'
                            }
                        },
                        tooltip: {
                            trigger: 'item',
                            formatter: function (params) {
                                if (params.seriesType === 'radar') {
                                    let result = params.name + '<br/>';
                                    for (let i = 0; i < params.value.length; i++) {
                                        result += params.marker + ' ' + 
                                                 dimensionData[i].name + ': ' + 
                                                 params.value[i] + '<br/>';
                                    }
                                    return result;
                                }
                                return params.name;
                            }
                        },
                        legend: {
                            data: ['当前状态', '目标状态'],
                            bottom: 0,
                            itemWidth: 12,
                            itemHeight: 12,
                            textStyle: {
                                color: '#666666'
                            }
                        },
                        radar: {
                            indicator: indicators,
                            shape: 'polygon',
                            splitNumber: 4,
                            axisName: {
                                color: '#666666',
                                fontSize: 12
                            },
                            splitArea: {
                                areaStyle: {
                                    color: ['rgba(255,255,255,0.9)', 'rgba(245,245,245,0.9)']
                                }
                            },
                            axisLine: {
                                lineStyle: {
                                    color: '#E0E0E0'
                                }
                            },
                            splitLine: {
                                lineStyle: {
                                    color: '#E0E0E0'
                                }
                            }
                        },
                        series: [{
                            type: 'radar',
                            data: [
                                {
                                    value: currentValues,
                                    name: '当前状态',
                                    areaStyle: {
                                        color: 'rgba(74, 144, 226, 0.3)'
                                    },
                                    lineStyle: {
                                        color: 'rgba(74, 144, 226, 0.8)',
                                        width: 2
                                    },
                                    itemStyle: {
                                        color: 'rgba(74, 144, 226, 1)'
                                    }
                                },
                                {
                                    value: targetValues,
                                    name: '目标状态',
                                    areaStyle: {
                                        color: 'rgba(245, 166, 35, 0.1)'
                                    },
                                    lineStyle: {
                                        color: 'rgba(245, 166, 35, 0.8)',
                                        width: 2,
                                        type: 'dashed'
                                    },
                                    itemStyle: {
                                        color: 'rgba(245, 166, 35, 1)'
                                    }
                                }
                            ]
                        }]
                    };

                    // 使用配置项设置图表
                    myChart.setOption(option);

                    // 响应窗口大小变化
                    window.addEventListener('resize', function () {
                        myChart.resize();
                    });
                }

                // 统一的维度详情切换函数
                function toggleDimensionDetail(dimensionId) {
                    // 查找所有可能的维度项（包括dimension-item和dimension-score-item）
                    const items = document.querySelectorAll('[data-dimension]');
                    const clickedItem = document.querySelector(`[data-dimension="${dimensionId}"]`);

                    if (!clickedItem) return;

                    if (clickedItem.classList.contains('active')) {
                        // 如果已经是激活状态，则关闭
                        clickedItem.classList.remove('active');
                    } else {
                        // 关闭其他打开的项
                        items.forEach(item => {
                            item.classList.remove('active');
                        });
                        // 打开当前项
                        clickedItem.classList.add('active');
                    }
                }

                // 维度分析组件
                class DimensionAnalysis {
                    constructor(containerId, data) {
                        this.container = document.getElementById(containerId);
                        this.data = data;
                        if (this.container) {
                            this.render();
                        }
                    }

                    render() {
                        // 渲染维度分析组件的逻辑
                        // 可以根据需要实现
                    }
                }

                // 更新检测结果页面
                function updateDetectionResult() {
                    if (!window.currentPatient) {
                        window.currentPatient = getPatientData();
                    }
                    
                    const patient = window.currentPatient;
                    const dimensions = patient.dimensionData;
                    
                    // 计算总分
                    const totalScore = Math.round(dimensions.reduce((sum, dim) => sum + dim.currentScore, 0) / dimensions.length);
                    
                    // 更新总分和健康等级
                    document.getElementById('overall-score').textContent = totalScore;
                    
                    let healthLevel = '优秀';
                    if (totalScore < 60) {
                        healthLevel = '较差';
                    } else if (totalScore < 75) {
                        healthLevel = '一般';
                    } else if (totalScore < 85) {
                        healthLevel = '良好';
                    }
                    
                    document.getElementById('health-level').textContent = `健康等级: ${healthLevel}`;
                    
                    // 填充AI图像分析结果
                    if (patient.imageAnalysis) {
                        const imageAnalysisContainer = document.querySelector('#detection-result .image-analysis-grid');
                        if (imageAnalysisContainer) {
                            imageAnalysisContainer.innerHTML = '';
                            
                            // 添加左眼分析
                            if (patient.imageAnalysis.leftEye) {
                                const leftEyeAnalysis = document.createElement('div');
                                leftEyeAnalysis.className = 'analysis-item';
                                leftEyeAnalysis.innerHTML = `
                                    <div class="analysis-title">
                                        <span class="material-icons">visibility</span>
                                        <div class="analysis-title-text">左眼分析</div>
                                    </div>
                                    <div class="analysis-content">
                                        <div class="analysis-images">
                                            <div class="image-compare">
                                                <img src="${patient.imageAnalysis.leftEye.imagePath}" alt="左眼图像">
                                                <div class="image-label">左眼</div>
                                            </div>
                                        </div>
                                        <div class="analysis-result">
                                            <div class="result-title">检测结果</div>
                                            <div class="result-details">
                                                ${patient.imageAnalysis.leftEye.findings.map(finding => `
                                                    <div class="result-item">
                                                        <div class="result-label">${finding.name}</div>
                                                        <div class="result-value">${finding.level} (${finding.score}分)</div>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                    </div>
                                `;
                                imageAnalysisContainer.appendChild(leftEyeAnalysis);
                            }
                            
                            // 添加右眼分析
                            if (patient.imageAnalysis.rightEye) {
                                const rightEyeAnalysis = document.createElement('div');
                                rightEyeAnalysis.className = 'analysis-item';
                                rightEyeAnalysis.innerHTML = `
                                    <div class="analysis-title">
                                        <span class="material-icons">visibility</span>
                                        <div class="analysis-title-text">右眼分析</div>
                                    </div>
                                    <div class="analysis-content">
                                        <div class="analysis-images">
                                            <div class="image-compare">
                                                <img src="${patient.imageAnalysis.rightEye.imagePath}" alt="右眼图像">
                                                <div class="image-label">右眼</div>
                                            </div>
                                        </div>
                                        <div class="analysis-result">
                                            <div class="result-title">检测结果</div>
                                            <div class="result-details">
                                                ${patient.imageAnalysis.rightEye.findings.map(finding => `
                                                    <div class="result-item">
                                                        <div class="result-label">${finding.name}</div>
                                                        <div class="result-value">${finding.level} (${finding.score}分)</div>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                    </div>
                                `;
                                imageAnalysisContainer.appendChild(rightEyeAnalysis);
                            }
                            
                            // 添加眼周分析
                            if (patient.imageAnalysis.eyeArea) {
                                const eyeAreaAnalysis = document.createElement('div');
                                eyeAreaAnalysis.className = 'analysis-item';
                                eyeAreaAnalysis.innerHTML = `
                                    <div class="analysis-title">
                                        <span class="material-icons">face</span>
                                        <div class="analysis-title-text">眼周分析</div>
                                    </div>
                                    <div class="analysis-content">
                                        <div class="analysis-images">
                                            <div class="image-compare">
                                                <img src="${patient.imageAnalysis.eyeArea.imagePath}" alt="眼周图像">
                                                <div class="image-label">眼周</div>
                                            </div>
                                        </div>
                                        <div class="analysis-result">
                                            <div class="result-title">检测结果</div>
                                            <div class="result-details">
                                                ${patient.imageAnalysis.eyeArea.findings.map(finding => `
                                                    <div class="result-item">
                                                        <div class="result-label">${finding.name}</div>
                                                        <div class="result-value">${finding.level} (${finding.score}分)</div>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                    </div>
                                `;
                                imageAnalysisContainer.appendChild(eyeAreaAnalysis);
                            }
                        }
                    }
                    
                    // 清空并重建维度列表
                    const container = document.getElementById('dimension-list-container');
                    if (container) {
                        container.innerHTML = '';
                        
                        // 添加维度项
                        patient.analysisData.dimensions.forEach(dimension => {
                            const dimensionId = dimension.name.replace(/度$/, '');
                            const dimensionColor = dimensions.find(d => d.name === dimension.name)?.color || '#4CAF50';
                            
                            const dimensionItem = document.createElement('div');
                            // 使用与报告部分相同的类名
                            dimensionItem.className = 'dimension-score-item';
                            dimensionItem.setAttribute('data-dimension', dimensionId);
                            
                            dimensionItem.innerHTML = `
                                <div class="dimension-header" onclick="toggleDimensionDetail('${dimensionId}')">
                                    <div class="dimension-title">
                                        <div class="dimension-name">${dimension.name}</div>
                                        <div class="score-bar-container">
                                            <div class="score-bar" style="width: ${dimension.currentScore}%;">
                                                <span class="score-value">${dimension.currentScore}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <span class="material-icons toggle-icon">expand_more</span>
                                </div>
                                <div class="dimension-detail">
                                    <div class="detail-content">
                                        <h4>${dimension.name}详细分析</h4>
                                        <div class="detail-metrics">
                                            ${dimension.details.metrics.map(metric => `
                                                <div class="metric-item">
                                                    <div class="metric-label">${metric.label}</div>
                                                    <div class="metric-value">${metric.value}</div>
                                                </div>
                                            `).join('')}
                                        </div>
                                        <div class="detail-suggestion">
                                            <h5>改善建议</h5>
                                            <ul>
                                                ${dimension.details.suggestions.map(suggestion => `
                                                    <li>${suggestion}</li>
                                                `).join('')}
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            `;
                            
                            container.appendChild(dimensionItem);
                        });
                    }
                    
                    // 重新初始化雷达图
                    initRadarChart('detectionRadarChart');
                    
                    // 默认展开第一个维度
                    const firstDimension = document.querySelector('#dimension-list-container .dimension-score-item');
                    if (firstDimension) {
                        const dimensionId = firstDimension.getAttribute('data-dimension');
                        if (dimensionId) {
                            setTimeout(() => {
                                toggleDimensionDetail(dimensionId);
                            }, 100);
                        }
                    }
                }

                // 修改navigateTo函数，在页面导航时更新检测结果
                const originalNavigateTo = navigateTo;
                navigateTo = function(pageId) {
                    originalNavigateTo(pageId);
                    
                    if (pageId === 'detection-result') {
                        setTimeout(updateDetectionResult, 100); // 延迟一点执行，确保DOM已更新
                    } else if (pageId === 'detection-report') {
                        setTimeout(updateDetectionReport, 100); // 延迟一点执行，确保DOM已更新
                    }
                };

                // 更新检测报告页面
                function updateDetectionReport() {
                    if (!window.currentPatient) {
                        window.currentPatient = getPatientData();
                    }
                    
                    // 初始化雷达图
                    initRadarChart('eyeRadarChart');
                    
                    // 填充问卷结果
                    const patient = window.currentPatient;
                    if (patient.questionnaire) {
                        const questionnaireContainer = document.querySelector('.questionnaire-results');
                        if (questionnaireContainer) {
                            questionnaireContainer.innerHTML = '';
                            
                            patient.questionnaire.forEach(item => {
                                const questionResult = document.createElement('div');
                                questionResult.className = 'question-result';
                                questionResult.innerHTML = `
                                    <div class="question-text">${item.question}</div>
                                    <div class="answer-text">${item.answer}</div>
                                    <div class="analysis-text">${item.analysis}</div>
                                `;
                                questionnaireContainer.appendChild(questionResult);
                            });
                        }
                    }
                    
                    // 填充AI图像分析结果
                    if (patient.imageAnalysis) {
                        const imageAnalysisContainer = document.querySelector('#detection-report .image-analysis-grid');
                        if (imageAnalysisContainer) {
                            imageAnalysisContainer.innerHTML = '';
                            
                            // 添加左眼分析
                            if (patient.imageAnalysis.leftEye) {
                                const leftEyeAnalysis = document.createElement('div');
                                leftEyeAnalysis.className = 'analysis-item';
                                leftEyeAnalysis.innerHTML = `
                                    <div class="analysis-title">
                                        <span class="material-icons">visibility</span>
                                        <div class="analysis-title-text">左眼分析</div>
                                    </div>
                                    <div class="analysis-content">
                                        <div class="analysis-images">
                                            <div class="image-compare">
                                                <img src="${patient.imageAnalysis.leftEye.imagePath}" alt="左眼图像">
                                                <div class="image-label">左眼</div>
                                            </div>
                                        </div>
                                        <div class="analysis-result">
                                            <div class="result-title">检测结果</div>
                                            <div class="result-details">
                                                ${patient.imageAnalysis.leftEye.findings.map(finding => `
                                                    <div class="result-item">
                                                        <div class="result-label">${finding.name}</div>
                                                        <div class="result-value">${finding.level} (${finding.score}分)</div>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                    </div>
                                `;
                                imageAnalysisContainer.appendChild(leftEyeAnalysis);
                            }
                            
                            // 添加右眼分析
                            if (patient.imageAnalysis.rightEye) {
                                const rightEyeAnalysis = document.createElement('div');
                                rightEyeAnalysis.className = 'analysis-item';
                                rightEyeAnalysis.innerHTML = `
                                    <div class="analysis-title">
                                        <span class="material-icons">visibility</span>
                                        <div class="analysis-title-text">右眼分析</div>
                                    </div>
                                    <div class="analysis-content">
                                        <div class="analysis-images">
                                            <div class="image-compare">
                                                <img src="${patient.imageAnalysis.rightEye.imagePath}" alt="右眼图像">
                                                <div class="image-label">右眼</div>
                                            </div>
                                        </div>
                                        <div class="analysis-result">
                                            <div class="result-title">检测结果</div>
                                            <div class="result-details">
                                                ${patient.imageAnalysis.rightEye.findings.map(finding => `
                                                    <div class="result-item">
                                                        <div class="result-label">${finding.name}</div>
                                                        <div class="result-value">${finding.level} (${finding.score}分)</div>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                    </div>
                                `;
                                imageAnalysisContainer.appendChild(rightEyeAnalysis);
                            }
                            
                            // 添加眼周分析
                            if (patient.imageAnalysis.eyeArea) {
                                const eyeAreaAnalysis = document.createElement('div');
                                eyeAreaAnalysis.className = 'analysis-item';
                                eyeAreaAnalysis.innerHTML = `
                                    <div class="analysis-title">
                                        <span class="material-icons">face</span>
                                        <div class="analysis-title-text">眼周分析</div>
                                    </div>
                                    <div class="analysis-content">
                                        <div class="analysis-images">
                                            <div class="image-compare">
                                                <img src="${patient.imageAnalysis.eyeArea.imagePath}" alt="眼周图像">
                                                <div class="image-label">眼周</div>
                                            </div>
                                        </div>
                                        <div class="analysis-result">
                                            <div class="result-title">检测结果</div>
                                            <div class="result-details">
                                                ${patient.imageAnalysis.eyeArea.findings.map(finding => `
                                                    <div class="result-item">
                                                        <div class="result-label">${finding.name}</div>
                                                        <div class="result-value">${finding.level} (${finding.score}分)</div>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                    </div>
                                `;
                                imageAnalysisContainer.appendChild(eyeAreaAnalysis);
                            }
                        }
                    }
                    

                    // 默认展开第一个维度
                    const firstDimension = document.querySelector('.dimension-scores .dimension-score-item');
                    if (firstDimension) {
                        const dimensionId = firstDimension.getAttribute('data-dimension');
                        if (dimensionId) {
                            setTimeout(() => {
                                toggleDimensionDetail(dimensionId);
                            }, 100);
                        }
                    }
                }

                // 导航到服务详情页面，并根据服务类型更新内容
                function navigateToService(pageId, serviceType) {
                    // 先导航到页面
                    navigateTo(pageId);
                    
                    // 根据服务类型更新内容
                    const serviceDetails = {
                        'dry-eye': {
                            title: '舒缓干眼服务',
                            image: 'images/services/dry_eye.jpg',
                            description: '专业舒缓干眼症状，缓解眼疲劳，改善眼部不适。针对长时间使用电子设备导致的眼部问题，提供全方位的眼部护理方案。'
                        },
                        'eye-bag': {
                            title: '消除眼袋服务',
                            image: 'images/services/eye_bag.jpg',
                            description: '针对眼袋问题，采用先进技术和专业手法，帮助减轻眼袋，恢复眼部年轻活力，让您的眼睛更加明亮有神。'
                        },
                        'eye-bright': {
                            title: '眼周提亮服务',
                            image: 'images/services/eye_bright.jpg',
                            description: '专注于眼周肌肤提亮，改善黑眼圈和暗沉问题，让眼周肌肤焕发光彩，恢复明亮通透的眼部状态。'
                        },
                        'eye-care': {
                            title: '眼部护理套餐',
                            image: 'images/services/eye_care.jpg',
                            description: '综合眼部护理套餐，包含眼部清洁、舒缓按摩、营养导入等多项服务，全方位呵护您的眼部健康。'
                        },
                        'eye-full': {
                            title: '眼部全套呵护',
                            image: 'images/services/eye_full.jpg',
                            description: '我们的旗舰服务，包含所有眼部护理项目，从眼部检测到专业护理，再到后续保养指导，为您的眼部提供最全面的呵护。'
                        }
                    };
                    
                    // 获取当前服务的详情
                    const details = serviceDetails[serviceType] || serviceDetails['eye-bright'];
                    
                    // 更新页面内容
                    document.getElementById('service-detail-title').textContent = details.title;
                    document.getElementById('service-detail-image').src = details.image;
                    document.getElementById('service-detail-description').textContent = details.description;
                }

                // 根据角色选择更改用户名和密码
                function changeLoginRole() {
                    const roleSelect = document.getElementById('role-select');
                    const username = document.getElementById('username');
                    const password = document.getElementById('password');
                    
                    if (roleSelect.value === 'manager') {
                        username.value = 'admin';
                        password.value = '123';
                    } else {
                        username.value = 'test';
                        password.value = 'test';
                    }
                }

         
            </script>
        </div>
    </div>
</body>

</html>